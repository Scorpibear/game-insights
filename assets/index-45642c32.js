var bo=Object.defineProperty;var yo=(e,t,n)=>t in e?bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mn=(e,t,n)=>(yo(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function sr(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const te={},xt=[],ke=()=>{},wo=()=>!1,Co=/^on[^a-z]/,mn=e=>Co.test(e),or=e=>e.startsWith("onUpdate:"),de=Object.assign,ir=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xo=Object.prototype.hasOwnProperty,J=(e,t)=>xo.call(e,t),F=Array.isArray,Et=e=>vn(e)==="[object Map]",ws=e=>vn(e)==="[object Set]",j=e=>typeof e=="function",ue=e=>typeof e=="string",lr=e=>typeof e=="symbol",re=e=>e!==null&&typeof e=="object",Cs=e=>re(e)&&j(e.then)&&j(e.catch),xs=Object.prototype.toString,vn=e=>xs.call(e),Eo=e=>vn(e).slice(8,-1),Es=e=>vn(e)==="[object Object]",ar=e=>ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sn=sr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_n=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},So=/-(\w)/g,Pt=_n(e=>e.replace(So,(t,n)=>n?n.toUpperCase():"")),Ao=/\B([A-Z])/g,Ot=_n(e=>e.replace(Ao,"-$1").toLowerCase()),Ss=_n(e=>e.charAt(0).toUpperCase()+e.slice(1)),Tn=_n(e=>e?`on${Ss(e)}`:""),qt=(e,t)=>!Object.is(e,t),on=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},un=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Mr;const qn=()=>Mr||(Mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cr(e){if(F(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ue(r)?To(r):cr(r);if(s)for(const o in s)t[o]=s[o]}return t}else{if(ue(e))return e;if(re(e))return e}}const Po=/;(?![^(]*\))/g,Io=/:([^]+)/,Mo=/\/\*[^]*?\*\//g;function To(e){const t={};return e.replace(Mo,"").split(Po).forEach(n=>{if(n){const r=n.split(Io);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function gt(e){let t="";if(ue(e))t=e;else if(F(e))for(let n=0;n<e.length;n++){const r=gt(e[n]);r&&(t+=r+" ")}else if(re(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Oo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ro=sr(Oo);function As(e){return!!e||e===""}const Je=e=>ue(e)?e:e==null?"":F(e)||re(e)&&(e.toString===xs||!j(e.toString))?JSON.stringify(e,Ps,2):String(e),Ps=(e,t)=>t&&t.__v_isRef?Ps(e,t.value):Et(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:ws(t)?{[`Set(${t.size})`]:[...t.values()]}:re(t)&&!F(t)&&!Es(t)?String(t):t;let Fe;class Lo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Fe,!t&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Fe;try{return Fe=this,t()}finally{Fe=n}}}on(){Fe=this}off(){Fe=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function No(e,t=Fe){t&&t.active&&t.effects.push(e)}function $o(){return Fe}const ur=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Is=e=>(e.w&ct)>0,Ms=e=>(e.n&ct)>0,Fo=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ct},Bo=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Is(s)&&!Ms(s)?s.delete(e):t[n++]=s,s.w&=~ct,s.n&=~ct}t.length=n}},Hn=new WeakMap;let Ut=0,ct=1;const Wn=30;let Be;const mt=Symbol(""),zn=Symbol("");class fr{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,No(this,r)}run(){if(!this.active)return this.fn();let t=Be,n=lt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Be,Be=this,lt=!0,ct=1<<++Ut,Ut<=Wn?Fo(this):Tr(this),this.fn()}finally{Ut<=Wn&&Bo(this),ct=1<<--Ut,Be=this.parent,lt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Be===this?this.deferStop=!0:this.active&&(Tr(this),this.onStop&&this.onStop(),this.active=!1)}}function Tr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let lt=!0;const Ts=[];function Rt(){Ts.push(lt),lt=!1}function Lt(){const e=Ts.pop();lt=e===void 0?!0:e}function xe(e,t,n){if(lt&&Be){let r=Hn.get(e);r||Hn.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=ur()),Os(s)}}function Os(e,t){let n=!1;Ut<=Wn?Ms(e)||(e.n|=ct,n=!Is(e)):n=!e.has(Be),n&&(e.add(Be),Be.deps.push(e))}function et(e,t,n,r,s,o){const i=Hn.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&F(e)){const c=Number(r);i.forEach((d,v)=>{(v==="length"||v>=c)&&l.push(d)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":F(e)?ar(n)&&l.push(i.get("length")):(l.push(i.get(mt)),Et(e)&&l.push(i.get(zn)));break;case"delete":F(e)||(l.push(i.get(mt)),Et(e)&&l.push(i.get(zn)));break;case"set":Et(e)&&l.push(i.get(mt));break}if(l.length===1)l[0]&&Gn(l[0]);else{const c=[];for(const d of l)d&&c.push(...d);Gn(ur(c))}}function Gn(e,t){const n=F(e)?e:[...e];for(const r of n)r.computed&&Or(r);for(const r of n)r.computed||Or(r)}function Or(e,t){(e!==Be||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Uo=sr("__proto__,__v_isRef,__isVue"),Rs=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(lr)),Ko=dr(),ko=dr(!1,!0),Do=dr(!0),Rr=jo();function jo(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Z(this);for(let o=0,i=this.length;o<i;o++)xe(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(Z)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Rt();const r=Z(this)[t].apply(this,n);return Lt(),r}}),e}function qo(e){const t=Z(this);return xe(t,"has",e),t.hasOwnProperty(e)}function dr(e=!1,t=!1){return function(r,s,o){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&o===(e?t?oi:Bs:t?Fs:$s).get(r))return r;const i=F(r);if(!e){if(i&&J(Rr,s))return Reflect.get(Rr,s,o);if(s==="hasOwnProperty")return qo}const l=Reflect.get(r,s,o);return(lr(s)?Rs.has(s):Uo(s))||(e||xe(r,"get",s),t)?l:ge(l)?i&&ar(s)?l:l.value:re(l)?e?Us(l):yn(l):l}}const Ho=Ls(),Wo=Ls(!0);function Ls(e=!1){return function(n,r,s,o){let i=n[r];if(It(i)&&ge(i)&&!ge(s))return!1;if(!e&&(!fn(s)&&!It(s)&&(i=Z(i),s=Z(s)),!F(n)&&ge(i)&&!ge(s)))return i.value=s,!0;const l=F(n)&&ar(r)?Number(r)<n.length:J(n,r),c=Reflect.set(n,r,s,o);return n===Z(o)&&(l?qt(s,i)&&et(n,"set",r,s):et(n,"add",r,s)),c}}function zo(e,t){const n=J(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&et(e,"delete",t,void 0),r}function Go(e,t){const n=Reflect.has(e,t);return(!lr(t)||!Rs.has(t))&&xe(e,"has",t),n}function Qo(e){return xe(e,"iterate",F(e)?"length":mt),Reflect.ownKeys(e)}const Ns={get:Ko,set:Ho,deleteProperty:zo,has:Go,ownKeys:Qo},Vo={get:Do,set(e,t){return!0},deleteProperty(e,t){return!0}},Jo=de({},Ns,{get:ko,set:Wo}),pr=e=>e,bn=e=>Reflect.getPrototypeOf(e);function Yt(e,t,n=!1,r=!1){e=e.__v_raw;const s=Z(e),o=Z(t);n||(t!==o&&xe(s,"get",t),xe(s,"get",o));const{has:i}=bn(s),l=r?pr:n?mr:Ht;if(i.call(s,t))return l(e.get(t));if(i.call(s,o))return l(e.get(o));e!==s&&e.get(t)}function Xt(e,t=!1){const n=this.__v_raw,r=Z(n),s=Z(e);return t||(e!==s&&xe(r,"has",e),xe(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Zt(e,t=!1){return e=e.__v_raw,!t&&xe(Z(e),"iterate",mt),Reflect.get(e,"size",e)}function Lr(e){e=Z(e);const t=Z(this);return bn(t).has.call(t,e)||(t.add(e),et(t,"add",e,e)),this}function Nr(e,t){t=Z(t);const n=Z(this),{has:r,get:s}=bn(n);let o=r.call(n,e);o||(e=Z(e),o=r.call(n,e));const i=s.call(n,e);return n.set(e,t),o?qt(t,i)&&et(n,"set",e,t):et(n,"add",e,t),this}function $r(e){const t=Z(this),{has:n,get:r}=bn(t);let s=n.call(t,e);s||(e=Z(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&et(t,"delete",e,void 0),o}function Fr(){const e=Z(this),t=e.size!==0,n=e.clear();return t&&et(e,"clear",void 0,void 0),n}function en(e,t){return function(r,s){const o=this,i=o.__v_raw,l=Z(i),c=t?pr:e?mr:Ht;return!e&&xe(l,"iterate",mt),i.forEach((d,v)=>r.call(s,c(d),c(v),o))}}function tn(e,t,n){return function(...r){const s=this.__v_raw,o=Z(s),i=Et(o),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=s[e](...r),v=n?pr:t?mr:Ht;return!t&&xe(o,"iterate",c?zn:mt),{next(){const{value:A,done:I}=d.next();return I?{value:A,done:I}:{value:l?[v(A[0]),v(A[1])]:v(A),done:I}},[Symbol.iterator](){return this}}}}function nt(e){return function(...t){return e==="delete"?!1:this}}function Yo(){const e={get(o){return Yt(this,o)},get size(){return Zt(this)},has:Xt,add:Lr,set:Nr,delete:$r,clear:Fr,forEach:en(!1,!1)},t={get(o){return Yt(this,o,!1,!0)},get size(){return Zt(this)},has:Xt,add:Lr,set:Nr,delete:$r,clear:Fr,forEach:en(!1,!0)},n={get(o){return Yt(this,o,!0)},get size(){return Zt(this,!0)},has(o){return Xt.call(this,o,!0)},add:nt("add"),set:nt("set"),delete:nt("delete"),clear:nt("clear"),forEach:en(!0,!1)},r={get(o){return Yt(this,o,!0,!0)},get size(){return Zt(this,!0)},has(o){return Xt.call(this,o,!0)},add:nt("add"),set:nt("set"),delete:nt("delete"),clear:nt("clear"),forEach:en(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=tn(o,!1,!1),n[o]=tn(o,!0,!1),t[o]=tn(o,!1,!0),r[o]=tn(o,!0,!0)}),[e,n,t,r]}const[Xo,Zo,ei,ti]=Yo();function hr(e,t){const n=t?e?ti:ei:e?Zo:Xo;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(J(n,s)&&s in r?n:r,s,o)}const ni={get:hr(!1,!1)},ri={get:hr(!1,!0)},si={get:hr(!0,!1)},$s=new WeakMap,Fs=new WeakMap,Bs=new WeakMap,oi=new WeakMap;function ii(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function li(e){return e.__v_skip||!Object.isExtensible(e)?0:ii(Eo(e))}function yn(e){return It(e)?e:gr(e,!1,Ns,ni,$s)}function ai(e){return gr(e,!1,Jo,ri,Fs)}function Us(e){return gr(e,!0,Vo,si,Bs)}function gr(e,t,n,r,s){if(!re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const i=li(e);if(i===0)return e;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function St(e){return It(e)?St(e.__v_raw):!!(e&&e.__v_isReactive)}function It(e){return!!(e&&e.__v_isReadonly)}function fn(e){return!!(e&&e.__v_isShallow)}function Ks(e){return St(e)||It(e)}function Z(e){const t=e&&e.__v_raw;return t?Z(t):e}function ks(e){return un(e,"__v_skip",!0),e}const Ht=e=>re(e)?yn(e):e,mr=e=>re(e)?Us(e):e;function Ds(e){lt&&Be&&(e=Z(e),Os(e.dep||(e.dep=ur())))}function js(e,t){e=Z(e);const n=e.dep;n&&Gn(n)}function ge(e){return!!(e&&e.__v_isRef===!0)}function Re(e){return ci(e,!1)}function ci(e,t){return ge(e)?e:new ui(e,t)}class ui{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Z(t),this._value=n?t:Ht(t)}get value(){return Ds(this),this._value}set value(t){const n=this.__v_isShallow||fn(t)||It(t);t=n?t:Z(t),qt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ht(t),js(this))}}function Ie(e){return ge(e)?e.value:e}const fi={get:(e,t,n)=>Ie(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ge(s)&&!ge(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function qs(e){return St(e)?e:new Proxy(e,fi)}class di{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new fr(t,()=>{this._dirty||(this._dirty=!0,js(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=Z(this);return Ds(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function pi(e,t,n=!1){let r,s;const o=j(e);return o?(r=e,s=ke):(r=e.get,s=e.set),new di(r,s,o||!s,n)}function at(e,t,n,r){let s;try{s=r?e(...r):e()}catch(o){wn(o,t,n)}return s}function De(e,t,n,r){if(j(e)){const o=at(e,t,n,r);return o&&Cs(o)&&o.catch(i=>{wn(i,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(De(e[o],t,n,r));return s}function wn(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,l=n;for(;o;){const d=o.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](e,i,l)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){at(c,null,10,[e,i,l]);return}}hi(e,n,s,r)}function hi(e,t,n,r=!0){console.error(e)}let Wt=!1,Qn=!1;const pe=[];let Ye=0;const At=[];let Ze=null,dt=0;const Hs=Promise.resolve();let vr=null;function gi(e){const t=vr||Hs;return e?t.then(this?e.bind(this):e):t}function mi(e){let t=Ye+1,n=pe.length;for(;t<n;){const r=t+n>>>1;zt(pe[r])<e?t=r+1:n=r}return t}function _r(e){(!pe.length||!pe.includes(e,Wt&&e.allowRecurse?Ye+1:Ye))&&(e.id==null?pe.push(e):pe.splice(mi(e.id),0,e),Ws())}function Ws(){!Wt&&!Qn&&(Qn=!0,vr=Hs.then(Gs))}function vi(e){const t=pe.indexOf(e);t>Ye&&pe.splice(t,1)}function _i(e){F(e)?At.push(...e):(!Ze||!Ze.includes(e,e.allowRecurse?dt+1:dt))&&At.push(e),Ws()}function Br(e,t=Wt?Ye+1:0){for(;t<pe.length;t++){const n=pe[t];n&&n.pre&&(pe.splice(t,1),t--,n())}}function zs(e){if(At.length){const t=[...new Set(At)];if(At.length=0,Ze){Ze.push(...t);return}for(Ze=t,Ze.sort((n,r)=>zt(n)-zt(r)),dt=0;dt<Ze.length;dt++)Ze[dt]();Ze=null,dt=0}}const zt=e=>e.id==null?1/0:e.id,bi=(e,t)=>{const n=zt(e)-zt(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Gs(e){Qn=!1,Wt=!0,pe.sort(bi);const t=ke;try{for(Ye=0;Ye<pe.length;Ye++){const n=pe[Ye];n&&n.active!==!1&&at(n,null,14)}}finally{Ye=0,pe.length=0,zs(),Wt=!1,vr=null,(pe.length||At.length)&&Gs()}}function yi(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||te;let s=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in r){const v=`${i==="modelValue"?"model":i}Modifiers`,{number:A,trim:I}=r[v]||te;I&&(s=n.map(N=>ue(N)?N.trim():N)),A&&(s=n.map(jn))}let l,c=r[l=Tn(t)]||r[l=Tn(Pt(t))];!c&&o&&(c=r[l=Tn(Ot(t))]),c&&De(c,e,6,s);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,De(d,e,6,s)}}function Qs(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let i={},l=!1;if(!j(e)){const c=d=>{const v=Qs(d,t,!0);v&&(l=!0,de(i,v))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(re(e)&&r.set(e,null),null):(F(o)?o.forEach(c=>i[c]=null):de(i,o),re(e)&&r.set(e,i),i)}function Cn(e,t){return!e||!mn(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,Ot(t))||J(e,t))}let Ue=null,xn=null;function dn(e){const t=Ue;return Ue=e,xn=e&&e.type.__scopeId||null,t}function wi(e){xn=e}function Ci(){xn=null}function xi(e,t=Ue,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Gr(-1);const o=dn(t);let i;try{i=e(...s)}finally{dn(o),r._d&&Gr(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function On(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[i],slots:l,attrs:c,emit:d,render:v,renderCache:A,data:I,setupState:N,ctx:Q,inheritAttrs:D}=e;let H,se;const ne=dn(e);try{if(n.shapeFlag&4){const U=s||r;H=Ve(v.call(U,U,A,o,N,I,Q)),se=c}else{const U=t;H=Ve(U.length>1?U(o,{attrs:c,slots:l,emit:d}):U(o,null)),se=t.props?c:Ei(c)}}catch(U){Dt.length=0,wn(U,e,1),H=_e(bt)}let ie=H;if(se&&D!==!1){const U=Object.keys(se),{shapeFlag:Ee}=ie;U.length&&Ee&7&&(i&&U.some(or)&&(se=Si(se,i)),ie=Mt(ie,se))}return n.dirs&&(ie=Mt(ie),ie.dirs=ie.dirs?ie.dirs.concat(n.dirs):n.dirs),n.transition&&(ie.transition=n.transition),H=ie,dn(ne),H}const Ei=e=>{let t;for(const n in e)(n==="class"||n==="style"||mn(n))&&((t||(t={}))[n]=e[n]);return t},Si=(e,t)=>{const n={};for(const r in e)(!or(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Ai(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:l,patchFlag:c}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Ur(r,i,d):!!i;if(c&8){const v=t.dynamicProps;for(let A=0;A<v.length;A++){const I=v[A];if(i[I]!==r[I]&&!Cn(d,I))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===i?!1:r?i?Ur(r,i,d):!0:!!i;return!1}function Ur(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!Cn(n,o))return!0}return!1}function Pi({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Ii=e=>e.__isSuspense;function Mi(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):_i(e)}const nn={};function Rn(e,t,n){return Vs(e,t,n)}function Vs(e,t,{immediate:n,deep:r,flush:s,onTrack:o,onTrigger:i}=te){var l;const c=$o()===((l=he)==null?void 0:l.scope)?he:null;let d,v=!1,A=!1;if(ge(e)?(d=()=>e.value,v=fn(e)):St(e)?(d=()=>e,r=!0):F(e)?(A=!0,v=e.some(U=>St(U)||fn(U)),d=()=>e.map(U=>{if(ge(U))return U.value;if(St(U))return ht(U);if(j(U))return at(U,c,2)})):j(e)?t?d=()=>at(e,c,2):d=()=>{if(!(c&&c.isUnmounted))return I&&I(),De(e,c,3,[N])}:d=ke,t&&r){const U=d;d=()=>ht(U())}let I,N=U=>{I=ne.onStop=()=>{at(U,c,4)}},Q;if(Qt)if(N=ke,t?n&&De(t,c,3,[d(),A?[]:void 0,N]):d(),s==="sync"){const U=Cl();Q=U.__watcherHandles||(U.__watcherHandles=[])}else return ke;let D=A?new Array(e.length).fill(nn):nn;const H=()=>{if(ne.active)if(t){const U=ne.run();(r||v||(A?U.some((Ee,Le)=>qt(Ee,D[Le])):qt(U,D)))&&(I&&I(),De(t,c,3,[U,D===nn?void 0:A&&D[0]===nn?[]:D,N]),D=U)}else ne.run()};H.allowRecurse=!!t;let se;s==="sync"?se=H:s==="post"?se=()=>ye(H,c&&c.suspense):(H.pre=!0,c&&(H.id=c.uid),se=()=>_r(H));const ne=new fr(d,se);t?n?H():D=ne.run():s==="post"?ye(ne.run.bind(ne),c&&c.suspense):ne.run();const ie=()=>{ne.stop(),c&&c.scope&&ir(c.scope.effects,ne)};return Q&&Q.push(ie),ie}function Ti(e,t,n){const r=this.proxy,s=ue(e)?e.includes(".")?Js(r,e):()=>r[e]:e.bind(r,r);let o;j(t)?o=t:(o=t.handler,n=t);const i=he;Tt(this);const l=Vs(s,o.bind(r),n);return i?Tt(i):_t(),l}function Js(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function ht(e,t){if(!re(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ge(e))ht(e.value,t);else if(F(e))for(let n=0;n<e.length;n++)ht(e[n],t);else if(ws(e)||Et(e))e.forEach(n=>{ht(n,t)});else if(Es(e))for(const n in e)ht(e[n],t);return e}function Ln(e,t){const n=Ue;if(n===null)return e;const r=In(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,l,c,d=te]=t[o];i&&(j(i)&&(i={mounted:i,updated:i}),i.deep&&ht(l),s.push({dir:i,instance:r,value:l,oldValue:void 0,arg:c,modifiers:d}))}return e}function ut(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const l=s[i];o&&(l.oldValue=o[i].value);let c=l.dir[r];c&&(Rt(),De(c,n,8,[e.el,l,e,t]),Lt())}}const ln=e=>!!e.type.__asyncLoader,Ys=e=>e.type.__isKeepAlive;function Oi(e,t){Xs(e,"a",t)}function Ri(e,t){Xs(e,"da",t)}function Xs(e,t,n=he){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(En(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Ys(s.parent.vnode)&&Li(r,t,n,s),s=s.parent}}function Li(e,t,n,r){const s=En(t,e,r,!0);eo(()=>{ir(r[t],s)},n)}function En(e,t,n=he,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Rt(),Tt(n);const l=De(t,n,e,i);return _t(),Lt(),l});return r?s.unshift(o):s.push(o),o}}const tt=e=>(t,n=he)=>(!Qt||e==="sp")&&En(e,(...r)=>t(...r),n),Ni=tt("bm"),Sn=tt("m"),$i=tt("bu"),Zs=tt("u"),Fi=tt("bum"),eo=tt("um"),Bi=tt("sp"),Ui=tt("rtg"),Ki=tt("rtc");function ki(e,t=he){En("ec",e,t)}const Di=Symbol.for("v-ndc");function br(e,t,n,r){let s;const o=n&&n[r];if(F(e)||ue(e)){s=new Array(e.length);for(let i=0,l=e.length;i<l;i++)s[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,o&&o[i])}else if(re(e))if(e[Symbol.iterator])s=Array.from(e,(i,l)=>t(i,l,void 0,o&&o[l]));else{const i=Object.keys(e);s=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const d=i[l];s[l]=t(e[d],d,l,o&&o[l])}}else s=[];return n&&(n[r]=s),s}const Vn=e=>e?fo(e)?In(e)||e.proxy:Vn(e.parent):null,kt=de(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vn(e.parent),$root:e=>Vn(e.root),$emit:e=>e.emit,$options:e=>yr(e),$forceUpdate:e=>e.f||(e.f=()=>_r(e.update)),$nextTick:e=>e.n||(e.n=gi.bind(e.proxy)),$watch:e=>Ti.bind(e)}),Nn=(e,t)=>e!==te&&!e.__isScriptSetup&&J(e,t),ji={get({_:e},t){const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const N=i[t];if(N!==void 0)switch(N){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(Nn(r,t))return i[t]=1,r[t];if(s!==te&&J(s,t))return i[t]=2,s[t];if((d=e.propsOptions[0])&&J(d,t))return i[t]=3,o[t];if(n!==te&&J(n,t))return i[t]=4,n[t];Jn&&(i[t]=0)}}const v=kt[t];let A,I;if(v)return t==="$attrs"&&xe(e,"get",t),v(e);if((A=l.__cssModules)&&(A=A[t]))return A;if(n!==te&&J(n,t))return i[t]=4,n[t];if(I=c.config.globalProperties,J(I,t))return I[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return Nn(s,t)?(s[t]=n,!0):r!==te&&J(r,t)?(r[t]=n,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let l;return!!n[i]||e!==te&&J(e,i)||Nn(t,i)||(l=o[0])&&J(l,i)||J(r,i)||J(kt,i)||J(s.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:J(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Kr(e){return F(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Jn=!0;function qi(e){const t=yr(e),n=e.proxy,r=e.ctx;Jn=!1,t.beforeCreate&&kr(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:l,provide:c,inject:d,created:v,beforeMount:A,mounted:I,beforeUpdate:N,updated:Q,activated:D,deactivated:H,beforeDestroy:se,beforeUnmount:ne,destroyed:ie,unmounted:U,render:Ee,renderTracked:Le,renderTriggered:fe,errorCaptured:me,serverPrefetch:ce,expose:Se,inheritAttrs:Ae,components:je,directives:qe,filters:He}=t;if(d&&Hi(d,r,null),i)for(const z in i){const q=i[z];j(q)&&(r[z]=q.bind(n))}if(s){const z=s.call(n,n);re(z)&&(e.data=yn(z))}if(Jn=!0,o)for(const z in o){const q=o[z],Me=j(q)?q.bind(n,n):j(q.get)?q.get.bind(n,n):ke,Te=!j(q)&&j(q.set)?q.set.bind(n):ke,Oe=yl({get:Me,set:Te});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:f=>Oe.value=f})}if(l)for(const z in l)to(l[z],r,n,z);if(c){const z=j(c)?c.call(n):c;Reflect.ownKeys(z).forEach(q=>{Ji(q,z[q])})}v&&kr(v,e,"c");function le(z,q){F(q)?q.forEach(Me=>z(Me.bind(n))):q&&z(q.bind(n))}if(le(Ni,A),le(Sn,I),le($i,N),le(Zs,Q),le(Oi,D),le(Ri,H),le(ki,me),le(Ki,Le),le(Ui,fe),le(Fi,ne),le(eo,U),le(Bi,ce),F(Se))if(Se.length){const z=e.exposed||(e.exposed={});Se.forEach(q=>{Object.defineProperty(z,q,{get:()=>n[q],set:Me=>n[q]=Me})})}else e.exposed||(e.exposed={});Ee&&e.render===ke&&(e.render=Ee),Ae!=null&&(e.inheritAttrs=Ae),je&&(e.components=je),qe&&(e.directives=qe)}function Hi(e,t,n=ke){F(e)&&(e=Yn(e));for(const r in e){const s=e[r];let o;re(s)?"default"in s?o=an(s.from||r,s.default,!0):o=an(s.from||r):o=an(s),ge(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[r]=o}}function kr(e,t,n){De(F(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function to(e,t,n,r){const s=r.includes(".")?Js(n,r):()=>n[r];if(ue(e)){const o=t[e];j(o)&&Rn(s,o)}else if(j(e))Rn(s,e.bind(n));else if(re(e))if(F(e))e.forEach(o=>to(o,t,n,r));else{const o=j(e.handler)?e.handler.bind(n):t[e.handler];j(o)&&Rn(s,o,e)}}function yr(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(d=>pn(c,d,i,!0)),pn(c,t,i)),re(t)&&o.set(t,c),c}function pn(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&pn(e,o,n,!0),s&&s.forEach(i=>pn(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const l=Wi[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Wi={data:Dr,props:jr,emits:jr,methods:Kt,computed:Kt,beforeCreate:ve,created:ve,beforeMount:ve,mounted:ve,beforeUpdate:ve,updated:ve,beforeDestroy:ve,beforeUnmount:ve,destroyed:ve,unmounted:ve,activated:ve,deactivated:ve,errorCaptured:ve,serverPrefetch:ve,components:Kt,directives:Kt,watch:Gi,provide:Dr,inject:zi};function Dr(e,t){return t?e?function(){return de(j(e)?e.call(this,this):e,j(t)?t.call(this,this):t)}:t:e}function zi(e,t){return Kt(Yn(e),Yn(t))}function Yn(e){if(F(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ve(e,t){return e?[...new Set([].concat(e,t))]:t}function Kt(e,t){return e?de(Object.create(null),e,t):t}function jr(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:de(Object.create(null),Kr(e),Kr(t??{})):t}function Gi(e,t){if(!e)return t;if(!t)return e;const n=de(Object.create(null),e);for(const r in t)n[r]=ve(e[r],t[r]);return n}function no(){return{app:null,config:{isNativeTag:wo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qi=0;function Vi(e,t){return function(r,s=null){j(r)||(r=de({},r)),s!=null&&!re(s)&&(s=null);const o=no(),i=new Set;let l=!1;const c=o.app={_uid:Qi++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:xl,get config(){return o.config},set config(d){},use(d,...v){return i.has(d)||(d&&j(d.install)?(i.add(d),d.install(c,...v)):j(d)&&(i.add(d),d(c,...v))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,v){return v?(o.components[d]=v,c):o.components[d]},directive(d,v){return v?(o.directives[d]=v,c):o.directives[d]},mount(d,v,A){if(!l){const I=_e(r,s);return I.appContext=o,v&&t?t(I,d):e(I,d,A),l=!0,c._container=d,d.__vue_app__=c,In(I.component)||I.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,v){return o.provides[d]=v,c},runWithContext(d){hn=c;try{return d()}finally{hn=null}}};return c}}let hn=null;function Ji(e,t){if(he){let n=he.provides;const r=he.parent&&he.parent.provides;r===n&&(n=he.provides=Object.create(r)),n[e]=t}}function an(e,t,n=!1){const r=he||Ue;if(r||hn){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:hn._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&j(t)?t.call(r&&r.proxy):t}}function Yi(e,t,n,r=!1){const s={},o={};un(o,Pn,1),e.propsDefaults=Object.create(null),ro(e,t,s,o);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:ai(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function Xi(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,l=Z(s),[c]=e.propsOptions;let d=!1;if((r||i>0)&&!(i&16)){if(i&8){const v=e.vnode.dynamicProps;for(let A=0;A<v.length;A++){let I=v[A];if(Cn(e.emitsOptions,I))continue;const N=t[I];if(c)if(J(o,I))N!==o[I]&&(o[I]=N,d=!0);else{const Q=Pt(I);s[Q]=Xn(c,l,Q,N,e,!1)}else N!==o[I]&&(o[I]=N,d=!0)}}}else{ro(e,t,s,o)&&(d=!0);let v;for(const A in l)(!t||!J(t,A)&&((v=Ot(A))===A||!J(t,v)))&&(c?n&&(n[A]!==void 0||n[v]!==void 0)&&(s[A]=Xn(c,l,A,void 0,e,!0)):delete s[A]);if(o!==l)for(const A in o)(!t||!J(t,A))&&(delete o[A],d=!0)}d&&et(e,"set","$attrs")}function ro(e,t,n,r){const[s,o]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(sn(c))continue;const d=t[c];let v;s&&J(s,v=Pt(c))?!o||!o.includes(v)?n[v]=d:(l||(l={}))[v]=d:Cn(e.emitsOptions,c)||(!(c in r)||d!==r[c])&&(r[c]=d,i=!0)}if(o){const c=Z(n),d=l||te;for(let v=0;v<o.length;v++){const A=o[v];n[A]=Xn(s,c,A,d[A],e,!J(d,A))}}return i}function Xn(e,t,n,r,s,o){const i=e[n];if(i!=null){const l=J(i,"default");if(l&&r===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&j(c)){const{propsDefaults:d}=s;n in d?r=d[n]:(Tt(s),r=d[n]=c.call(null,t),_t())}else r=c}i[0]&&(o&&!l?r=!1:i[1]&&(r===""||r===Ot(n))&&(r=!0))}return r}function so(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},l=[];let c=!1;if(!j(e)){const v=A=>{c=!0;const[I,N]=so(A,t,!0);de(i,I),N&&l.push(...N)};!n&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!o&&!c)return re(e)&&r.set(e,xt),xt;if(F(o))for(let v=0;v<o.length;v++){const A=Pt(o[v]);qr(A)&&(i[A]=te)}else if(o)for(const v in o){const A=Pt(v);if(qr(A)){const I=o[v],N=i[A]=F(I)||j(I)?{type:I}:de({},I);if(N){const Q=zr(Boolean,N.type),D=zr(String,N.type);N[0]=Q>-1,N[1]=D<0||Q<D,(Q>-1||J(N,"default"))&&l.push(A)}}}const d=[i,l];return re(e)&&r.set(e,d),d}function qr(e){return e[0]!=="$"}function Hr(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Wr(e,t){return Hr(e)===Hr(t)}function zr(e,t){return F(t)?t.findIndex(n=>Wr(n,e)):j(t)&&Wr(t,e)?0:-1}const oo=e=>e[0]==="_"||e==="$stable",wr=e=>F(e)?e.map(Ve):[Ve(e)],Zi=(e,t,n)=>{if(t._n)return t;const r=xi((...s)=>wr(t(...s)),n);return r._c=!1,r},io=(e,t,n)=>{const r=e._ctx;for(const s in e){if(oo(s))continue;const o=e[s];if(j(o))t[s]=Zi(s,o,r);else if(o!=null){const i=wr(o);t[s]=()=>i}}},lo=(e,t)=>{const n=wr(t);e.slots.default=()=>n},el=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Z(t),un(t,"_",n)):io(t,e.slots={})}else e.slots={},t&&lo(e,t);un(e.slots,Pn,1)},tl=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=te;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(de(s,t),!n&&l===1&&delete s._):(o=!t.$stable,io(t,s)),i=t}else t&&(lo(e,t),i={default:1});if(o)for(const l in s)!oo(l)&&!(l in i)&&delete s[l]};function Zn(e,t,n,r,s=!1){if(F(e)){e.forEach((I,N)=>Zn(I,t&&(F(t)?t[N]:t),n,r,s));return}if(ln(r)&&!s)return;const o=r.shapeFlag&4?In(r.component)||r.component.proxy:r.el,i=s?null:o,{i:l,r:c}=e,d=t&&t.r,v=l.refs===te?l.refs={}:l.refs,A=l.setupState;if(d!=null&&d!==c&&(ue(d)?(v[d]=null,J(A,d)&&(A[d]=null)):ge(d)&&(d.value=null)),j(c))at(c,l,12,[i,v]);else{const I=ue(c),N=ge(c);if(I||N){const Q=()=>{if(e.f){const D=I?J(A,c)?A[c]:v[c]:c.value;s?F(D)&&ir(D,o):F(D)?D.includes(o)||D.push(o):I?(v[c]=[o],J(A,c)&&(A[c]=v[c])):(c.value=[o],e.k&&(v[e.k]=c.value))}else I?(v[c]=i,J(A,c)&&(A[c]=i)):N&&(c.value=i,e.k&&(v[e.k]=i))};i?(Q.id=-1,ye(Q,n)):Q()}}}const ye=Mi;function nl(e){return rl(e)}function rl(e,t){const n=qn();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:l,createComment:c,setText:d,setElementText:v,parentNode:A,nextSibling:I,setScopeId:N=ke,insertStaticContent:Q}=e,D=(a,u,h,_=null,b=null,C=null,P=!1,x=null,S=!!u.dynamicChildren)=>{if(a===u)return;a&&!Ft(a,u)&&(_=y(a),f(a,b,C,!0),a=null),u.patchFlag===-2&&(S=!1,u.dynamicChildren=null);const{type:E,ref:R,shapeFlag:O}=u;switch(E){case An:H(a,u,h,_);break;case bt:se(a,u,h,_);break;case $n:a==null&&ne(u,h,_,P);break;case Ce:je(a,u,h,_,b,C,P,x,S);break;default:O&1?Ee(a,u,h,_,b,C,P,x,S):O&6?qe(a,u,h,_,b,C,P,x,S):(O&64||O&128)&&E.process(a,u,h,_,b,C,P,x,S,$)}R!=null&&b&&Zn(R,a&&a.ref,C,u||a,!u)},H=(a,u,h,_)=>{if(a==null)r(u.el=l(u.children),h,_);else{const b=u.el=a.el;u.children!==a.children&&d(b,u.children)}},se=(a,u,h,_)=>{a==null?r(u.el=c(u.children||""),h,_):u.el=a.el},ne=(a,u,h,_)=>{[a.el,a.anchor]=Q(a.children,u,h,_,a.el,a.anchor)},ie=({el:a,anchor:u},h,_)=>{let b;for(;a&&a!==u;)b=I(a),r(a,h,_),a=b;r(u,h,_)},U=({el:a,anchor:u})=>{let h;for(;a&&a!==u;)h=I(a),s(a),a=h;s(u)},Ee=(a,u,h,_,b,C,P,x,S)=>{P=P||u.type==="svg",a==null?Le(u,h,_,b,C,P,x,S):ce(a,u,b,C,P,x,S)},Le=(a,u,h,_,b,C,P,x)=>{let S,E;const{type:R,props:O,shapeFlag:M,transition:L,dirs:K}=a;if(S=a.el=i(a.type,C,O&&O.is,O),M&8?v(S,a.children):M&16&&me(a.children,S,null,_,b,C&&R!=="foreignObject",P,x),K&&ut(a,null,_,"created"),fe(S,a,a.scopeId,P,_),O){for(const W in O)W!=="value"&&!sn(W)&&o(S,W,null,O[W],C,a.children,_,b,m);"value"in O&&o(S,"value",null,O.value),(E=O.onVnodeBeforeMount)&&ze(E,_,a)}K&&ut(a,null,_,"beforeMount");const Y=(!b||b&&!b.pendingBranch)&&L&&!L.persisted;Y&&L.beforeEnter(S),r(S,u,h),((E=O&&O.onVnodeMounted)||Y||K)&&ye(()=>{E&&ze(E,_,a),Y&&L.enter(S),K&&ut(a,null,_,"mounted")},b)},fe=(a,u,h,_,b)=>{if(h&&N(a,h),_)for(let C=0;C<_.length;C++)N(a,_[C]);if(b){let C=b.subTree;if(u===C){const P=b.vnode;fe(a,P,P.scopeId,P.slotScopeIds,b.parent)}}},me=(a,u,h,_,b,C,P,x,S=0)=>{for(let E=S;E<a.length;E++){const R=a[E]=x?ot(a[E]):Ve(a[E]);D(null,R,u,h,_,b,C,P,x)}},ce=(a,u,h,_,b,C,P)=>{const x=u.el=a.el;let{patchFlag:S,dynamicChildren:E,dirs:R}=u;S|=a.patchFlag&16;const O=a.props||te,M=u.props||te;let L;h&&ft(h,!1),(L=M.onVnodeBeforeUpdate)&&ze(L,h,u,a),R&&ut(u,a,h,"beforeUpdate"),h&&ft(h,!0);const K=b&&u.type!=="foreignObject";if(E?Se(a.dynamicChildren,E,x,h,_,K,C):P||q(a,u,x,null,h,_,K,C,!1),S>0){if(S&16)Ae(x,u,O,M,h,_,b);else if(S&2&&O.class!==M.class&&o(x,"class",null,M.class,b),S&4&&o(x,"style",O.style,M.style,b),S&8){const Y=u.dynamicProps;for(let W=0;W<Y.length;W++){const ee=Y[W],be=O[ee],Ne=M[ee];(Ne!==be||ee==="value")&&o(x,ee,be,Ne,b,a.children,h,_,m)}}S&1&&a.children!==u.children&&v(x,u.children)}else!P&&E==null&&Ae(x,u,O,M,h,_,b);((L=M.onVnodeUpdated)||R)&&ye(()=>{L&&ze(L,h,u,a),R&&ut(u,a,h,"updated")},_)},Se=(a,u,h,_,b,C,P)=>{for(let x=0;x<u.length;x++){const S=a[x],E=u[x],R=S.el&&(S.type===Ce||!Ft(S,E)||S.shapeFlag&70)?A(S.el):h;D(S,E,R,null,_,b,C,P,!0)}},Ae=(a,u,h,_,b,C,P)=>{if(h!==_){if(h!==te)for(const x in h)!sn(x)&&!(x in _)&&o(a,x,h[x],null,P,u.children,b,C,m);for(const x in _){if(sn(x))continue;const S=_[x],E=h[x];S!==E&&x!=="value"&&o(a,x,E,S,P,u.children,b,C,m)}"value"in _&&o(a,"value",h.value,_.value)}},je=(a,u,h,_,b,C,P,x,S)=>{const E=u.el=a?a.el:l(""),R=u.anchor=a?a.anchor:l("");let{patchFlag:O,dynamicChildren:M,slotScopeIds:L}=u;L&&(x=x?x.concat(L):L),a==null?(r(E,h,_),r(R,h,_),me(u.children,h,R,b,C,P,x,S)):O>0&&O&64&&M&&a.dynamicChildren?(Se(a.dynamicChildren,M,h,b,C,P,x),(u.key!=null||b&&u===b.subTree)&&ao(a,u,!0)):q(a,u,h,R,b,C,P,x,S)},qe=(a,u,h,_,b,C,P,x,S)=>{u.slotScopeIds=x,a==null?u.shapeFlag&512?b.ctx.activate(u,h,_,P,S):He(u,h,_,b,C,P,S):Xe(a,u,S)},He=(a,u,h,_,b,C,P)=>{const x=a.component=hl(a,_,b);if(Ys(a)&&(x.ctx.renderer=$),gl(x),x.asyncDep){if(b&&b.registerDep(x,le),!a.el){const S=x.subTree=_e(bt);se(null,S,u,h)}return}le(x,a,u,h,b,C,P)},Xe=(a,u,h)=>{const _=u.component=a.component;if(Ai(a,u,h))if(_.asyncDep&&!_.asyncResolved){z(_,u,h);return}else _.next=u,vi(_.update),_.update();else u.el=a.el,_.vnode=u},le=(a,u,h,_,b,C,P)=>{const x=()=>{if(a.isMounted){let{next:R,bu:O,u:M,parent:L,vnode:K}=a,Y=R,W;ft(a,!1),R?(R.el=K.el,z(a,R,P)):R=K,O&&on(O),(W=R.props&&R.props.onVnodeBeforeUpdate)&&ze(W,L,R,K),ft(a,!0);const ee=On(a),be=a.subTree;a.subTree=ee,D(be,ee,A(be.el),y(be),a,b,C),R.el=ee.el,Y===null&&Pi(a,ee.el),M&&ye(M,b),(W=R.props&&R.props.onVnodeUpdated)&&ye(()=>ze(W,L,R,K),b)}else{let R;const{el:O,props:M}=u,{bm:L,m:K,parent:Y}=a,W=ln(u);if(ft(a,!1),L&&on(L),!W&&(R=M&&M.onVnodeBeforeMount)&&ze(R,Y,u),ft(a,!0),O&&V){const ee=()=>{a.subTree=On(a),V(O,a.subTree,a,b,null)};W?u.type.__asyncLoader().then(()=>!a.isUnmounted&&ee()):ee()}else{const ee=a.subTree=On(a);D(null,ee,h,_,a,b,C),u.el=ee.el}if(K&&ye(K,b),!W&&(R=M&&M.onVnodeMounted)){const ee=u;ye(()=>ze(R,Y,ee),b)}(u.shapeFlag&256||Y&&ln(Y.vnode)&&Y.vnode.shapeFlag&256)&&a.a&&ye(a.a,b),a.isMounted=!0,u=h=_=null}},S=a.effect=new fr(x,()=>_r(E),a.scope),E=a.update=()=>S.run();E.id=a.uid,ft(a,!0),E()},z=(a,u,h)=>{u.component=a;const _=a.vnode.props;a.vnode=u,a.next=null,Xi(a,u.props,_,h),tl(a,u.children,h),Rt(),Br(),Lt()},q=(a,u,h,_,b,C,P,x,S=!1)=>{const E=a&&a.children,R=a?a.shapeFlag:0,O=u.children,{patchFlag:M,shapeFlag:L}=u;if(M>0){if(M&128){Te(E,O,h,_,b,C,P,x,S);return}else if(M&256){Me(E,O,h,_,b,C,P,x,S);return}}L&8?(R&16&&m(E,b,C),O!==E&&v(h,O)):R&16?L&16?Te(E,O,h,_,b,C,P,x,S):m(E,b,C,!0):(R&8&&v(h,""),L&16&&me(O,h,_,b,C,P,x,S))},Me=(a,u,h,_,b,C,P,x,S)=>{a=a||xt,u=u||xt;const E=a.length,R=u.length,O=Math.min(E,R);let M;for(M=0;M<O;M++){const L=u[M]=S?ot(u[M]):Ve(u[M]);D(a[M],L,h,null,b,C,P,x,S)}E>R?m(a,b,C,!0,!1,O):me(u,h,_,b,C,P,x,S,O)},Te=(a,u,h,_,b,C,P,x,S)=>{let E=0;const R=u.length;let O=a.length-1,M=R-1;for(;E<=O&&E<=M;){const L=a[E],K=u[E]=S?ot(u[E]):Ve(u[E]);if(Ft(L,K))D(L,K,h,null,b,C,P,x,S);else break;E++}for(;E<=O&&E<=M;){const L=a[O],K=u[M]=S?ot(u[M]):Ve(u[M]);if(Ft(L,K))D(L,K,h,null,b,C,P,x,S);else break;O--,M--}if(E>O){if(E<=M){const L=M+1,K=L<R?u[L].el:_;for(;E<=M;)D(null,u[E]=S?ot(u[E]):Ve(u[E]),h,K,b,C,P,x,S),E++}}else if(E>M)for(;E<=O;)f(a[E],b,C,!0),E++;else{const L=E,K=E,Y=new Map;for(E=K;E<=M;E++){const Pe=u[E]=S?ot(u[E]):Ve(u[E]);Pe.key!=null&&Y.set(Pe.key,E)}let W,ee=0;const be=M-K+1;let Ne=!1,Nt=0;const $t=new Array(be);for(E=0;E<be;E++)$t[E]=0;for(E=L;E<=O;E++){const Pe=a[E];if(ee>=be){f(Pe,b,C,!0);continue}let We;if(Pe.key!=null)We=Y.get(Pe.key);else for(W=K;W<=M;W++)if($t[W-K]===0&&Ft(Pe,u[W])){We=W;break}We===void 0?f(Pe,b,C,!0):($t[We-K]=E+1,We>=Nt?Nt=We:Ne=!0,D(Pe,u[We],h,null,b,C,P,x,S),ee++)}const Pr=Ne?sl($t):xt;for(W=Pr.length-1,E=be-1;E>=0;E--){const Pe=K+E,We=u[Pe],Ir=Pe+1<R?u[Pe+1].el:_;$t[E]===0?D(null,We,h,Ir,b,C,P,x,S):Ne&&(W<0||E!==Pr[W]?Oe(We,h,Ir,2):W--)}}},Oe=(a,u,h,_,b=null)=>{const{el:C,type:P,transition:x,children:S,shapeFlag:E}=a;if(E&6){Oe(a.component.subTree,u,h,_);return}if(E&128){a.suspense.move(u,h,_);return}if(E&64){P.move(a,u,h,$);return}if(P===Ce){r(C,u,h);for(let O=0;O<S.length;O++)Oe(S[O],u,h,_);r(a.anchor,u,h);return}if(P===$n){ie(a,u,h);return}if(_!==2&&E&1&&x)if(_===0)x.beforeEnter(C),r(C,u,h),ye(()=>x.enter(C),b);else{const{leave:O,delayLeave:M,afterLeave:L}=x,K=()=>r(C,u,h),Y=()=>{O(C,()=>{K(),L&&L()})};M?M(C,K,Y):Y()}else r(C,u,h)},f=(a,u,h,_=!1,b=!1)=>{const{type:C,props:P,ref:x,children:S,dynamicChildren:E,shapeFlag:R,patchFlag:O,dirs:M}=a;if(x!=null&&Zn(x,null,h,a,!0),R&256){u.ctx.deactivate(a);return}const L=R&1&&M,K=!ln(a);let Y;if(K&&(Y=P&&P.onVnodeBeforeUnmount)&&ze(Y,u,a),R&6)w(a.component,h,_);else{if(R&128){a.suspense.unmount(h,_);return}L&&ut(a,null,u,"beforeUnmount"),R&64?a.type.remove(a,u,h,b,$,_):E&&(C!==Ce||O>0&&O&64)?m(E,u,h,!1,!0):(C===Ce&&O&384||!b&&R&16)&&m(S,u,h),_&&p(a)}(K&&(Y=P&&P.onVnodeUnmounted)||L)&&ye(()=>{Y&&ze(Y,u,a),L&&ut(a,null,u,"unmounted")},h)},p=a=>{const{type:u,el:h,anchor:_,transition:b}=a;if(u===Ce){g(h,_);return}if(u===$n){U(a);return}const C=()=>{s(h),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(a.shapeFlag&1&&b&&!b.persisted){const{leave:P,delayLeave:x}=b,S=()=>P(h,C);x?x(a.el,C,S):S()}else C()},g=(a,u)=>{let h;for(;a!==u;)h=I(a),s(a),a=h;s(u)},w=(a,u,h)=>{const{bum:_,scope:b,update:C,subTree:P,um:x}=a;_&&on(_),b.stop(),C&&(C.active=!1,f(P,a,u,h)),x&&ye(x,u),ye(()=>{a.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&a.asyncDep&&!a.asyncResolved&&a.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},m=(a,u,h,_=!1,b=!1,C=0)=>{for(let P=C;P<a.length;P++)f(a[P],u,h,_,b)},y=a=>a.shapeFlag&6?y(a.component.subTree):a.shapeFlag&128?a.suspense.next():I(a.anchor||a.el),T=(a,u,h)=>{a==null?u._vnode&&f(u._vnode,null,null,!0):D(u._vnode||null,a,u,null,null,null,h),Br(),zs(),u._vnode=a},$={p:D,um:f,m:Oe,r:p,mt:He,mc:me,pc:q,pbc:Se,n:y,o:e};let k,V;return t&&([k,V]=t($)),{render:T,hydrate:k,createApp:Vi(T,k)}}function ft({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ao(e,t,n=!1){const r=e.children,s=t.children;if(F(r)&&F(s))for(let o=0;o<r.length;o++){const i=r[o];let l=s[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[o]=ot(s[o]),l.el=i.el),n||ao(i,l)),l.type===An&&(l.el=i.el)}}function sl(e){const t=e.slice(),n=[0];let r,s,o,i,l;const c=e.length;for(r=0;r<c;r++){const d=e[r];if(d!==0){if(s=n[n.length-1],e[s]<d){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<d?o=l+1:i=l;d<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}const ol=e=>e.__isTeleport,Ce=Symbol.for("v-fgt"),An=Symbol.for("v-txt"),bt=Symbol.for("v-cmt"),$n=Symbol.for("v-stc"),Dt=[];let Ke=null;function oe(e=!1){Dt.push(Ke=e?null:[])}function il(){Dt.pop(),Ke=Dt[Dt.length-1]||null}let Gt=1;function Gr(e){Gt+=e}function co(e){return e.dynamicChildren=Gt>0?Ke||xt:null,il(),Gt>0&&Ke&&Ke.push(e),e}function ae(e,t,n,r,s,o){return co(G(e,t,n,r,s,o,!0))}function ll(e,t,n,r,s){return co(_e(e,t,n,r,s,!0))}function al(e){return e?e.__v_isVNode===!0:!1}function Ft(e,t){return e.type===t.type&&e.key===t.key}const Pn="__vInternal",uo=({key:e})=>e??null,cn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ue(e)||ge(e)||j(e)?{i:Ue,r:e,k:t,f:!!n}:e:null);function G(e,t=null,n=null,r=0,s=null,o=e===Ce?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uo(t),ref:t&&cn(t),scopeId:xn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ue};return l?(Cr(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=ue(n)?8:16),Gt>0&&!i&&Ke&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Ke.push(c),c}const _e=cl;function cl(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Di)&&(e=bt),al(e)){const l=Mt(e,t,!0);return n&&Cr(l,n),Gt>0&&!o&&Ke&&(l.shapeFlag&6?Ke[Ke.indexOf(e)]=l:Ke.push(l)),l.patchFlag|=-2,l}if(bl(e)&&(e=e.__vccOpts),t){t=ul(t);let{class:l,style:c}=t;l&&!ue(l)&&(t.class=gt(l)),re(c)&&(Ks(c)&&!F(c)&&(c=de({},c)),t.style=cr(c))}const i=ue(e)?1:Ii(e)?128:ol(e)?64:re(e)?4:j(e)?2:0;return G(e,t,n,r,s,i,o,!0)}function ul(e){return e?Ks(e)||Pn in e?de({},e):e:null}function Mt(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:i}=e,l=t?fl(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&uo(l),ref:t&&t.ref?n&&s?F(s)?s.concat(cn(t)):[s,cn(t)]:cn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mt(e.ssContent),ssFallback:e.ssFallback&&Mt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function vt(e=" ",t=0){return _e(An,null,e,t)}function jt(e="",t=!1){return t?(oe(),ll(bt,null,e)):_e(bt,null,e)}function Ve(e){return e==null||typeof e=="boolean"?_e(bt):F(e)?_e(Ce,null,e.slice()):typeof e=="object"?ot(e):_e(An,null,String(e))}function ot(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mt(e)}function Cr(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(F(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Cr(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Pn in t)?t._ctx=Ue:s===3&&Ue&&(Ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else j(t)?(t={default:t,_ctx:Ue},n=32):(t=String(t),r&64?(n=16,t=[vt(t)]):n=8);e.children=t,e.shapeFlag|=n}function fl(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=gt([t.class,r.class]));else if(s==="style")t.style=cr([t.style,r.style]);else if(mn(s)){const o=t[s],i=r[s];i&&o!==i&&!(F(o)&&o.includes(i))&&(t[s]=o?[].concat(o,i):i)}else s!==""&&(t[s]=r[s])}return t}function ze(e,t,n,r=null){De(e,t,7,[n,r])}const dl=no();let pl=0;function hl(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||dl,o={uid:pl++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Lo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:so(r,s),emitsOptions:Qs(r,s),emit:null,emitted:null,propsDefaults:te,inheritAttrs:r.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=yi.bind(null,o),e.ce&&e.ce(o),o}let he=null,xr,yt,Qr="__VUE_INSTANCE_SETTERS__";(yt=qn()[Qr])||(yt=qn()[Qr]=[]),yt.push(e=>he=e),xr=e=>{yt.length>1?yt.forEach(t=>t(e)):yt[0](e)};const Tt=e=>{xr(e),e.scope.on()},_t=()=>{he&&he.scope.off(),xr(null)};function fo(e){return e.vnode.shapeFlag&4}let Qt=!1;function gl(e,t=!1){Qt=t;const{props:n,children:r}=e.vnode,s=fo(e);Yi(e,n,s,t),el(e,r);const o=s?ml(e,t):void 0;return Qt=!1,o}function ml(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ks(new Proxy(e.ctx,ji));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?_l(e):null;Tt(e),Rt();const o=at(r,e,0,[e.props,s]);if(Lt(),_t(),Cs(o)){if(o.then(_t,_t),t)return o.then(i=>{Vr(e,i,t)}).catch(i=>{wn(i,e,0)});e.asyncDep=o}else Vr(e,o,t)}else po(e,t)}function Vr(e,t,n){j(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:re(t)&&(e.setupState=qs(t)),po(e,n)}let Jr;function po(e,t,n){const r=e.type;if(!e.render){if(!t&&Jr&&!r.render){const s=r.template||yr(e).template;if(s){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,d=de(de({isCustomElement:o,delimiters:l},i),c);r.render=Jr(s,d)}}e.render=r.render||ke}Tt(e),Rt(),qi(e),Lt(),_t()}function vl(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return xe(e,"get","$attrs"),t[n]}}))}function _l(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return vl(e)},slots:e.slots,emit:e.emit,expose:t}}function In(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qs(ks(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in kt)return kt[n](e)},has(t,n){return n in t||n in kt}}))}function bl(e){return j(e)&&"__vccOpts"in e}const yl=(e,t)=>pi(e,t,Qt),wl=Symbol.for("v-scx"),Cl=()=>an(wl),xl="3.3.4",El="http://www.w3.org/2000/svg",pt=typeof document<"u"?document:null,Yr=pt&&pt.createElement("template"),Sl={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?pt.createElementNS(El,e):pt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>pt.createTextNode(e),createComment:e=>pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Yr.innerHTML=r?`<svg>${e}</svg>`:e;const l=Yr.content;if(r){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Al(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Pl(e,t,n){const r=e.style,s=ue(n);if(n&&!s){if(t&&!ue(t))for(const o in t)n[o]==null&&er(r,o,"");for(const o in n)er(r,o,n[o])}else{const o=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Xr=/\s*!important$/;function er(e,t,n){if(F(n))n.forEach(r=>er(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Il(e,t);Xr.test(n)?e.setProperty(Ot(r),n.replace(Xr,""),"important"):e[r]=n}}const Zr=["Webkit","Moz","ms"],Fn={};function Il(e,t){const n=Fn[t];if(n)return n;let r=Pt(t);if(r!=="filter"&&r in e)return Fn[t]=r;r=Ss(r);for(let s=0;s<Zr.length;s++){const o=Zr[s]+r;if(o in e)return Fn[t]=o}return t}const es="http://www.w3.org/1999/xlink";function Ml(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(es,t.slice(6,t.length)):e.setAttributeNS(es,t,n);else{const o=Ro(t);n==null||o&&!As(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Tl(e,t,n,r,s,o,i){if(t==="innerHTML"||t==="textContent"){r&&i(r,s,o),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,v=n??"";d!==v&&(e.value=v),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=As(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function wt(e,t,n,r){e.addEventListener(t,n,r)}function Ol(e,t,n,r){e.removeEventListener(t,n,r)}function Rl(e,t,n,r,s=null){const o=e._vei||(e._vei={}),i=o[t];if(r&&i)i.value=r;else{const[l,c]=Ll(t);if(r){const d=o[t]=Fl(r,s);wt(e,l,d,c)}else i&&(Ol(e,l,i,c),o[t]=void 0)}}const ts=/(?:Once|Passive|Capture)$/;function Ll(e){let t;if(ts.test(e)){t={};let r;for(;r=e.match(ts);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ot(e.slice(2)),t]}let Bn=0;const Nl=Promise.resolve(),$l=()=>Bn||(Nl.then(()=>Bn=0),Bn=Date.now());function Fl(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;De(Bl(r,n.value),t,5,[r])};return n.value=e,n.attached=$l(),n}function Bl(e,t){if(F(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const ns=/^on[a-z]/,Ul=(e,t,n,r,s=!1,o,i,l,c)=>{t==="class"?Al(e,r,s):t==="style"?Pl(e,n,r):mn(t)?or(t)||Rl(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kl(e,t,r,s))?Tl(e,t,r,o,i,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ml(e,t,r,s))};function Kl(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&ns.test(t)&&j(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ns.test(t)&&ue(n)?!1:t in e}const rs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return F(t)?n=>on(t,n):t};function kl(e){e.target.composing=!0}function ss(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Un={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e._assign=rs(s);const o=r||s.props&&s.props.type==="number";wt(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=jn(l)),e._assign(l)}),n&&wt(e,"change",()=>{e.value=e.value.trim()}),t||(wt(e,"compositionstart",kl),wt(e,"compositionend",ss),wt(e,"change",ss))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},o){if(e._assign=rs(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(s||e.type==="number")&&jn(e.value)===t))return;const i=t??"";e.value!==i&&(e.value=i)}},Dl=de({patchProp:Ul},Sl);let os;function jl(){return os||(os=nl(Dl))}const ql=(...e)=>{const t=jl().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Hl(r);if(!s)return;const o=t._component;!j(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const i=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t};function Hl(e){return ue(e)?document.querySelector(e):e}const Er=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Wl={class:"input"},is="profile.chesscom.username",ls="profile.lichess.username",zl={__name:"HeaderView",props:{backend:{type:Object,required:!0}},emits:["gamesLoaded"],setup(e,{emit:t}){const n=e;let r;const s=Re(localStorage.getItem(is)||""),o=Re(localStorage.getItem(ls)||""),i=Re(5);async function l(){localStorage.setItem(is,s.value),localStorage.setItem(ls,o.value);const c=await r.getGames({chessComUsername:s.value,lichessUsername:o.value},i.value);t("gamesLoaded",c)}return Sn(()=>{r=n.backend}),(c,d)=>(oe(),ae("div",Wl,[G("label",null,[vt("Games "),Ln(G("input",{id:"games-count","onUpdate:modelValue":d[0]||(d[0]=v=>i.value=v),type:"number",name:"games-count",min:"1",max:"15"},null,512),[[Un,i.value]])]),G("label",null,[vt("chess.com / "),Ln(G("input",{"onUpdate:modelValue":d[1]||(d[1]=v=>s.value=v),class:"username",type:"text",title:"chess.com username",name:"chesscom-username"},null,512),[[Un,s.value]])]),G("label",null,[vt("lichess / "),Ln(G("input",{"onUpdate:modelValue":d[2]||(d[2]=v=>o.value=v),name:"lichess-username",class:"username",type:"text",title:"lichess.org username"},null,512),[[Un,o.value]])]),G("button",{name:"get",onClick:l},"Get!")]))}},Gl=Er(zl,[["__scopeId","data-v-498d5e6f"]]),Ql="pnbrqkPNBRQK",Kn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Vl=["1-0","0-1","1/2-1/2","*"],kn={b:[16,32,17,15],w:[-16,-32,-17,-15]},as={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Jl=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Yl=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Xl={p:0,n:1,b:2,r:3,q:4,k:5},B={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},Zl=7,ea=6,ta=1,na=0,X={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},rt={w:[{square:X.a1,flag:B.QSIDE_CASTLE},{square:X.h1,flag:B.KSIDE_CASTLE}],b:[{square:X.a8,flag:B.QSIDE_CASTLE},{square:X.h8,flag:B.KSIDE_CASTLE}]},ra=0,cs=1;function sa(e,t){for(var n=e.from,r=e.to,s=e.piece,o=0,i=0,l=0,c=0,d=t.length;c<d;c++){var v=t[c].from,A=t[c].to,I=t[c].piece;s===I&&n!==v&&r===A&&(o++,it(n)===it(v)&&i++,Vt(n)===Vt(v)&&l++)}return o>0?i>0&&l>0?we(n):l>0?we(n).charAt(1):we(n).charAt(0):""}function oa(e){var t=e.charAt(0);if(t>="a"&&t<="h"){var n=e.match(/[a-h]\d.*[a-h]\d/);return n?void 0:Ge}return t=t.toLowerCase(),t==="o"?Ct:t}function us(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function it(e){return e>>4}function Vt(e){return e&15}function we(e){var t=Vt(e),n=it(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Bt(e){return e===Qe?st:Qe}function ia(e){return"0123456789".indexOf(e)!==-1}function ho(e){var t=e instanceof Array?[]:{};for(var n in e)typeof n=="object"?t[n]=ho(e[n]):t[n]=e[n];return t}function fs(e){return e.replace(/^\s+|\s+$/g,"")}const st="b",Qe="w",$e=-1,Ge="p",ds="n",rn="b",la="r",aa="q",Ct="k";(function(){for(var e=[],t=X.a8;t<=X.h1;t++){if(t&136){t+=7;continue}e.push(we(t))}return e})();const ca={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},go=function(e){var t=new Array(128),n={w:$e,b:$e},r=Qe,s={w:0,b:0},o=$e,i=0,l=1,c=[],d={},v={};Q(typeof e>"u"?Kn:e);function A(f){typeof f>"u"&&(f=!1),t=new Array(128),n={w:$e,b:$e},r=Qe,s={w:0,b:0},o=$e,i=0,l=1,c=[],f||(d={}),v={},ne(H())}function I(){for(var f=[],p={},g=function(w){w in v&&(p[w]=v[w])};c.length>0;)f.push(q());for(g(H());f.length>0;)z(f.pop()),g(H());v=p}function N(){Q(Kn)}function Q(f,p){typeof p>"u"&&(p=!1);var g=f.split(/\s+/),w=g[0],m=0;if(!D(f).valid)return!1;A(p);for(var y=0;y<w.length;y++){var T=w.charAt(y);if(T==="/")m+=8;else if(ia(T))m+=parseInt(T,10);else{var $=T<"a"?Qe:st;U({type:T.toLowerCase(),color:$},we(m)),m++}}return r=g[1],g[2].indexOf("K")>-1&&(s.w|=B.KSIDE_CASTLE),g[2].indexOf("Q")>-1&&(s.w|=B.QSIDE_CASTLE),g[2].indexOf("k")>-1&&(s.b|=B.KSIDE_CASTLE),g[2].indexOf("q")>-1&&(s.b|=B.QSIDE_CASTLE),o=g[3]==="-"?$e:X[g[3]],i=parseInt(g[4],10),l=parseInt(g[5],10),ne(H()),!0}function D(f){var p={0:"No errors.",1:"FEN string must contain six space-delimited fields.",2:"6th field (move number) must be a positive integer.",3:"5th field (half move counter) must be a non-negative integer.",4:"4th field (en-passant square) is invalid.",5:"3rd field (castling availability) is invalid.",6:"2nd field (side to move) is invalid.",7:"1st field (piece positions) does not contain 8 '/'-delimited rows.",8:"1st field (piece positions) is invalid [consecutive numbers].",9:"1st field (piece positions) is invalid [invalid piece].",10:"1st field (piece positions) is invalid [row too large].",11:"Illegal en-passant square"},g=f.split(/\s+/);if(g.length!==6)return{valid:!1,error_number:1,error:p[1]};if(isNaN(parseInt(g[5]))||parseInt(g[5],10)<=0)return{valid:!1,error_number:2,error:p[2]};if(isNaN(parseInt(g[4]))||parseInt(g[4],10)<0)return{valid:!1,error_number:3,error:p[3]};if(!/^(-|[abcdefgh][36])$/.test(g[3]))return{valid:!1,error_number:4,error:p[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(g[2]))return{valid:!1,error_number:5,error:p[5]};if(!/^(w|b)$/.test(g[1]))return{valid:!1,error_number:6,error:p[6]};var w=g[0].split("/");if(w.length!==8)return{valid:!1,error_number:7,error:p[7]};for(var m=0;m<w.length;m++){for(var y=0,T=!1,$=0;$<w[m].length;$++)if(isNaN(w[m][$])){if(!/^[prnbqkPRNBQK]$/.test(w[m][$]))return{valid:!1,error_number:9,error:p[9]};y+=1,T=!1}else{if(T)return{valid:!1,error_number:8,error:p[8]};y+=parseInt(w[m][$],10),T=!0}if(y!==8)return{valid:!1,error_number:10,error:p[10]}}return g[3][1]=="3"&&g[1]=="w"||g[3][1]=="6"&&g[1]=="b"?{valid:!1,error_number:11,error:p[11]}:{valid:!0,error_number:0,error:p[0]}}function H(){for(var f=0,p="",g=X.a8;g<=X.h1;g++){if(t[g]==null)f++;else{f>0&&(p+=f,f=0);var w=t[g].color,m=t[g].type;p+=w===Qe?m.toUpperCase():m.toLowerCase()}g+1&136&&(f>0&&(p+=f),g!==X.h1&&(p+="/"),f=0,g+=8)}var y="";s[Qe]&B.KSIDE_CASTLE&&(y+="K"),s[Qe]&B.QSIDE_CASTLE&&(y+="Q"),s[st]&B.KSIDE_CASTLE&&(y+="k"),s[st]&B.QSIDE_CASTLE&&(y+="q"),y=y||"-";var T=o===$e?"-":we(o);return[p,r,y,T,i,l].join(" ")}function se(f){for(var p=0;p<f.length;p+=2)typeof f[p]=="string"&&typeof f[p+1]=="string"&&(d[f[p]]=f[p+1]);return d}function ne(f){c.length>0||(f!==Kn?(d.SetUp="1",d.FEN=f):(delete d.SetUp,delete d.FEN))}function ie(f){var p=t[X[f]];return p?{type:p.type,color:p.color}:null}function U(f,p){if(!("type"in f&&"color"in f)||Ql.indexOf(f.type.toLowerCase())===-1||!(p in X))return!1;var g=X[p];return f.type==Ct&&!(n[f.color]==$e||n[f.color]==g)?!1:(t[g]={type:f.type,color:f.color},f.type===Ct&&(n[f.color]=g),ne(H()),!0)}function Ee(f){var p=ie(f);return t[X[f]]=null,p&&p.type===Ct&&(n[p.color]=$e),ne(H()),p}function Le(f,p,g,w,m){var y={color:r,from:p,to:g,flags:w,piece:f[p].type};return m&&(y.flags|=B.PROMOTION,y.promotion=m),f[g]?y.captured=f[g].type:w&B.EP_CAPTURE&&(y.captured=Ge),y}function fe(f){function p(R,O,M,L,K){if(R[M].type===Ge&&(it(L)===na||it(L)===Zl))for(var Y=[aa,la,rn,ds],W=0,ee=Y.length;W<ee;W++)O.push(Le(R,M,L,K,Y[W]));else O.push(Le(R,M,L,K))}var g=[],w=r,m=Bt(w),y={b:ta,w:ea},T=X.a8,$=X.h1,k=!1,V=typeof f<"u"&&"legal"in f?f.legal:!0,a=typeof f<"u"&&"piece"in f&&typeof f.piece=="string"?f.piece.toLowerCase():!0;if(typeof f<"u"&&"square"in f)if(f.square in X)T=$=X[f.square],k=!0;else return[];for(var u=T;u<=$;u++){if(u&136){u+=7;continue}var h=t[u];if(!(h==null||h.color!==w)){if(h.type===Ge&&(a===!0||a===Ge)){var _=u+kn[w][0];if(t[_]==null){p(t,g,u,_,B.NORMAL);var _=u+kn[w][1];y[w]===it(u)&&t[_]==null&&p(t,g,u,_,B.BIG_PAWN)}for(b=2;b<4;b++){var _=u+kn[w][b];_&136||(t[_]!=null&&t[_].color===m?p(t,g,u,_,B.CAPTURE):_===o&&p(t,g,u,o,B.EP_CAPTURE))}}else if(a===!0||a===h.type)for(var b=0,C=as[h.type].length;b<C;b++)for(var P=as[h.type][b],_=u;_+=P,!(_&136);){if(t[_]==null)p(t,g,u,_,B.NORMAL);else{if(t[_].color===w)break;p(t,g,u,_,B.CAPTURE);break}if(h.type==="n"||h.type==="k")break}}}if((a===!0||a===Ct)&&(!k||$===n[w])){if(s[w]&B.KSIDE_CASTLE){var x=n[w],S=x+2;t[x+1]==null&&t[S]==null&&!ce(m,n[w])&&!ce(m,x+1)&&!ce(m,S)&&p(t,g,n[w],S,B.KSIDE_CASTLE)}if(s[w]&B.QSIDE_CASTLE){var x=n[w],S=x-2;t[x-1]==null&&t[x-2]==null&&t[x-3]==null&&!ce(m,n[w])&&!ce(m,x-1)&&!ce(m,S)&&p(t,g,n[w],S,B.QSIDE_CASTLE)}}if(!V)return g;for(var E=[],u=0,C=g.length;u<C;u++)z(g[u]),Se(w)||E.push(g[u]),q();return E}function me(f,p){var g="";if(f.flags&B.KSIDE_CASTLE)g="O-O";else if(f.flags&B.QSIDE_CASTLE)g="O-O-O";else{if(f.piece!==Ge){var w=sa(f,p);g+=f.piece.toUpperCase()+w}f.flags&(B.CAPTURE|B.EP_CAPTURE)&&(f.piece===Ge&&(g+=we(f.from)[0]),g+="x"),g+=we(f.to),f.flags&B.PROMOTION&&(g+="="+f.promotion.toUpperCase())}return z(f),Ae()&&(je()?g+="#":g+="+"),q(),g}function ce(f,p){for(var g=X.a8;g<=X.h1;g++){if(g&136){g+=7;continue}if(!(t[g]==null||t[g].color!==f)){var w=t[g],m=g-p,y=m+119;if(Jl[y]&1<<Xl[w.type]){if(w.type===Ge){if(m>0){if(w.color===Qe)return!0}else if(w.color===st)return!0;continue}if(w.type==="n"||w.type==="k")return!0;for(var T=Yl[y],$=g+T,k=!1;$!==p;){if(t[$]!=null){k=!0;break}$+=T}if(!k)return!0}}}return!1}function Se(f){return ce(Bt(f),n[f])}function Ae(){return Se(r)}function je(){return Ae()&&fe().length===0}function qe(){return!Ae()&&fe().length===0}function He(){for(var f={},p=[],g=0,w=0,m=X.a8;m<=X.h1;m++){if(w=(w+1)%2,m&136){m+=7;continue}var y=t[m];y&&(f[y.type]=y.type in f?f[y.type]+1:1,y.type===rn&&p.push(w),g++)}if(g===2)return!0;if(g===3&&(f[rn]===1||f[ds]===1))return!0;if(g===f[rn]+2){for(var T=0,$=p.length,m=0;m<$;m++)T+=p[m];if(T===0||T===$)return!0}return!1}function Xe(){for(var f=[],p={},g=!1;;){var w=q();if(!w)break;f.push(w)}for(;;){var m=H().split(" ").slice(0,4).join(" ");if(p[m]=m in p?p[m]+1:1,p[m]>=3&&(g=!0),!f.length)break;z(f.pop())}return g}function le(f){c.push({move:f,kings:{b:n.b,w:n.w},turn:r,castling:{b:s.b,w:s.w},ep_square:o,half_moves:i,move_number:l})}function z(f){var p=r,g=Bt(p);if(le(f),t[f.to]=t[f.from],t[f.from]=null,f.flags&B.EP_CAPTURE&&(r===st?t[f.to-16]=null:t[f.to+16]=null),f.flags&B.PROMOTION&&(t[f.to]={type:f.promotion,color:p}),t[f.to].type===Ct){if(n[t[f.to].color]=f.to,f.flags&B.KSIDE_CASTLE){var w=f.to-1,m=f.to+1;t[w]=t[m],t[m]=null}else if(f.flags&B.QSIDE_CASTLE){var w=f.to+1,m=f.to-2;t[w]=t[m],t[m]=null}s[p]=""}if(s[p]){for(var y=0,T=rt[p].length;y<T;y++)if(f.from===rt[p][y].square&&s[p]&rt[p][y].flag){s[p]^=rt[p][y].flag;break}}if(s[g]){for(var y=0,T=rt[g].length;y<T;y++)if(f.to===rt[g][y].square&&s[g]&rt[g][y].flag){s[g]^=rt[g][y].flag;break}}f.flags&B.BIG_PAWN?r==="b"?o=f.to-16:o=f.to+16:o=$e,f.piece===Ge||f.flags&(B.CAPTURE|B.EP_CAPTURE)?i=0:i++,r===st&&l++,r=Bt(r)}function q(){var f=c.pop();if(f==null)return null;var p=f.move;n=f.kings,r=f.turn,s=f.castling,o=f.ep_square,i=f.half_moves,l=f.move_number;var g=r,w=Bt(r);if(t[p.from]=t[p.to],t[p.from].type=p.piece,t[p.to]=null,p.flags&B.CAPTURE)t[p.to]={type:p.captured,color:w};else if(p.flags&B.EP_CAPTURE){var m;g===st?m=p.to-16:m=p.to+16,t[m]={type:Ge,color:w}}if(p.flags&(B.KSIDE_CASTLE|B.QSIDE_CASTLE)){var y,T;p.flags&B.KSIDE_CASTLE?(y=p.to+1,T=p.to-1):p.flags&B.QSIDE_CASTLE&&(y=p.to-2,T=p.to+1),t[y]=t[T],t[T]=null}return p}function Me(f,p){for(var g=us(f),w=0;w<2;w++){if(w==cs){if(!p)return null;var m=!1,y=g.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(y){var T=y[1],$=y[2],k=y[3],V=y[4];$.length==1&&(m=!0)}else{var y=g.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/);if(y){var T=y[1],$=y[2],k=y[3],V=y[4];if($.length==1)var m=!0}}}for(var a=oa(g),u=fe({legal:!0,piece:T||a}),h=0,_=u.length;h<_;h++)switch(w){case ra:{if(g===us(me(u[h],u)))return u[h];break}case cs:if(y){if((!T||T.toLowerCase()==u[h].piece)&&X[$]==u[h].from&&X[k]==u[h].to&&(!V||V.toLowerCase()==u[h].promotion))return u[h];if(m){var b=we(u[h].from);if((!T||T.toLowerCase()==u[h].piece)&&X[k]==u[h].to&&($==b[0]||$==b[1])&&(!V||V.toLowerCase()==u[h].promotion))return u[h]}}}}return null}function Te(f){var p=ho(f);p.san=me(p,fe({legal:!0})),p.to=we(p.to),p.from=we(p.from);var g="";for(var w in B)B[w]&p.flags&&(g+=ca[w]);return p.flags=g,p}function Oe(f){for(var p=fe({legal:!1}),g=0,w=r,m=0,y=p.length;m<y;m++){if(z(p[m]),!Se(w))if(f-1>0){var T=Oe(f-1);g+=T}else g++;q()}return g}return{load:function(f){return Q(f)},reset:function(){return N()},moves:function(f){for(var p=fe(f),g=[],w=0,m=p.length;w<m;w++)typeof f<"u"&&"verbose"in f&&f.verbose?g.push(Te(p[w])):g.push(me(p[w],fe({legal:!0})));return g},in_check:function(){return Ae()},in_checkmate:function(){return je()},in_stalemate:function(){return qe()},in_draw:function(){return i>=100||qe()||He()||Xe()},insufficient_material:function(){return He()},in_threefold_repetition:function(){return Xe()},game_over:function(){return i>=100||je()||qe()||He()||Xe()},validate_fen:function(f){return D(f)},fen:function(){return H()},board:function(){for(var f=[],p=[],g=X.a8;g<=X.h1;g++)t[g]==null?p.push(null):p.push({square:we(g),type:t[g].type,color:t[g].color}),g+1&136&&(f.push(p),p=[],g+=8);return f},pgn:function(f){var p=typeof f=="object"&&typeof f.newline_char=="string"?f.newline_char:`
`,g=typeof f=="object"&&typeof f.max_width=="number"?f.max_width:0,w=[],m=!1;for(var y in d)w.push("["+y+' "'+d[y]+'"]'+p),m=!0;m&&c.length&&w.push(p);for(var T=function(b){var C=v[H()];if(typeof C<"u"){var P=b.length>0?" ":"";b=`${b}${P}{${C}}`}return b},$=[];c.length>0;)$.push(q());var k=[],V="";for($.length===0&&k.push(T(""));$.length>0;){V=T(V);var a=$.pop();if(!c.length&&a.color==="b"){const b=`${l}. ...`;V=V?`${V} ${b}`:b}else a.color==="w"&&(V.length&&k.push(V),V=l+".");V=V+" "+me(a,fe({legal:!0})),z(a)}if(V.length&&k.push(T(V)),typeof d.Result<"u"&&k.push(d.Result),g===0)return w.join("")+k.join(" ");for(var u=function(){return w.length>0&&w[w.length-1]===" "?(w.pop(),!0):!1},h=function(b,C){for(var P of C.split(" "))if(P){if(b+P.length>g){for(;u();)b--;w.push(p),b=0}w.push(P),b+=P.length,w.push(" "),b++}return u()&&b--,b},_=0,y=0;y<k.length;y++){if(_+k[y].length>g&&k[y].includes("{")){_=h(_,k[y]);continue}_+k[y].length>g&&y!==0?(w[w.length-1]===" "&&w.pop(),w.push(p),_=0):y!==0&&(w.push(" "),_++),w.push(k[y]),_+=k[y].length}return w.join("")},load_pgn:function(f,p){var g=typeof p<"u"&&"sloppy"in p?p.sloppy:!1;function w(M){return M.replace(/\\/g,"\\")}function m(M,L){for(var K=typeof L=="object"&&typeof L.newline_char=="string"?L.newline_char:`\r?
`,Y={},W=M.split(new RegExp(w(K))),ee="",be="",Ne=0;Ne<W.length;Ne++){var Nt=/^\s*\[([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;ee=W[Ne].replace(Nt,"$1"),be=W[Ne].replace(Nt,"$2"),fs(ee).length>0&&(Y[ee]=be)}return Y}f=f.trim();var y=typeof p=="object"&&typeof p.newline_char=="string"?p.newline_char:`\r?
`,T=new RegExp("^(\\[((?:"+w(y)+")|.)*\\])(?:\\s*"+w(y)+"){2}"),$=T.test(f)?T.exec(f)[1]:"";N();var k=m($,p),V="";for(var a in k)a.toLowerCase()==="fen"&&(V=k[a]),se([a,k[a]]);if(g){if(V&&!Q(V,!0))return!1}else if(k.SetUp==="1"&&!("FEN"in k&&Q(k.FEN,!0)))return!1;for(var u=function(M){return Array.from(M).map(function(L){return L.charCodeAt(0)<128?L.charCodeAt(0).toString(16):encodeURIComponent(L).replace(/\%/g,"").toLowerCase()}).join("")},h=function(M){return M.length==0?"":decodeURIComponent("%"+M.match(/.{1,2}/g).join("%"))},_=function(M){return M=M.replace(new RegExp(w(y),"g")," "),`{${u(M.slice(1,M.length-1))}}`},b=function(M){if(M.startsWith("{")&&M.endsWith("}"))return h(M.slice(1,M.length-1))},C=f.replace($,"").replace(new RegExp(`({[^}]*})+?|;([^${w(y)}]*)`,"g"),function(M,L,K){return L!==void 0?_(L):" "+_(`{${K.slice(1)}}`)}).replace(new RegExp(w(y),"g")," "),P=/(\([^\(\)]+\))+?/g;P.test(C);)C=C.replace(P,"");C=C.replace(/\d+\.(\.\.)?/g,""),C=C.replace(/\.\.\./g,""),C=C.replace(/\$\d+/g,"");var x=fs(C).split(new RegExp(/\s+/));x=x.join(",").replace(/,,+/g,",").split(",");for(var S="",E="",R=0;R<x.length;R++){var O=b(x[R]);if(O!==void 0){v[H()]=O;continue}if(S=Me(x[R],g),S==null)if(Vl.indexOf(x[R])>-1)E=x[R];else return!1;else E="",z(S)}return E&&Object.keys(d).length&&!d.Result&&se(["Result",E]),!0},header:function(){return se(arguments)},turn:function(){return r},move:function(f,p){var g=typeof p<"u"&&"sloppy"in p?p.sloppy:!1,w=null;if(typeof f=="string")w=Me(f,g);else if(typeof f=="object"){for(var m=fe(),y=0,T=m.length;y<T;y++)if(f.from===we(m[y].from)&&f.to===we(m[y].to)&&(!("promotion"in m[y])||f.promotion===m[y].promotion)){w=m[y];break}}if(!w)return null;var $=Te(w);return z(w),$},undo:function(){var f=q();return f?Te(f):null},clear:function(){return A()},put:function(f,p){return U(f,p)},get:function(f){return ie(f)},ascii(){for(var f=`   +------------------------+
`,p=X.a8;p<=X.h1;p++){if(Vt(p)===0&&(f+=" "+"87654321"[it(p)]+" |"),t[p]==null)f+=" . ";else{var g=t[p].type,w=t[p].color,m=w===Qe?g.toUpperCase():g.toLowerCase();f+=" "+m+" "}p+1&136&&(f+=`|
`,p+=8)}return f+=`   +------------------------+
`,f+="     a  b  c  d  e  f  g  h",f},remove:function(f){return Ee(f)},perft:function(f){return Oe(f)},square_color:function(f){if(f in X){var p=X[f];return(it(p)+Vt(p))%2===0?"light":"dark"}return null},history:function(f){for(var p=[],g=[],w=typeof f<"u"&&("verbose"in f)&&f.verbose;c.length>0;)p.push(q());for(;p.length>0;){var m=p.pop();w?g.push(Te(m)):g.push(me(m,fe({legal:!0}))),z(m)}return g},get_comment:function(){return v[H()]},set_comment:function(f){v[H()]=f.replace("{","[").replace("}","]")},delete_comment:function(){var f=v[H()];return delete v[H()],f},get_comments:function(){return I(),Object.keys(v).map(function(f){return{fen:f,comment:v[f]}})},delete_comments:function(){return I(),Object.keys(v).map(function(f){var p=v[f];return delete v[f],{fen:f,comment:p}})}}},ps=e=>t=>({...t,username:e}),ua=e=>"end_time"in e?{...e,lastMoveAt:e.end_time*1e3}:e;function fa(e,t){var r,s;const n={moves:(r=e==null?void 0:e.moves)==null?void 0:r.map(({san:o,white:i,draws:l,black:c})=>({san:o,masterGamesAmount:i+l+c,onlineGamesAmount:0})),opening:e==null?void 0:e.opening};return(s=t==null?void 0:t.moves)==null||s.forEach(({san:o,white:i,draws:l,black:c})=>{var v,A;let d=(v=n==null?void 0:n.moves)==null?void 0:v.find(I=>I.san==o);d?d.onlineGamesAmount=i+l+c:(A=n==null?void 0:n.moves)==null||A.push({san:o,masterGamesAmount:0,onlineGamesAmount:i+l+c})}),n}const hs=e=>e>=1e12?Math.floor(e/1e12)+"Q":e>=1e9?Math.floor(e/1e9)+"B":e>=1e6?Math.floor(e/1e6)+"M":e>=1e3?Math.floor(e/1e3)+"K":""+e,da=e=>e?e.bestMove?{san:e.bestMove,score:"score"in e?e.score:"cp"in e?e.cp/100:void 0,depth:e.depth,alt:e.alt}:e.alt?{alt:e.alt}:{}:null,pa=e=>e.map(({san:t,masterGamesAmount:n,onlineGamesAmount:r})=>`${t} (${hs(n)}+${hs(r)})`).join(", ");var Jt={};const ha=/[prnbqk]/gi,mo=new Error("Incorrect FEN was provided. Please, recheck with https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation");Jt.getPiecesCount=e=>{try{return e.split(" ")[0].match(ha).length}catch{throw mo}};Jt.isBlack=e=>e.search(" b ")!==-1;Jt.normalize=e=>{try{const t=/(pP)|(Pp)/,[n,r,s,o,i,l]=e.split(" "),c=n.split("/"),d=r==="b"&&t.test(c[4])||r==="w"&&t.test(c[3]);return`${n} ${r} ${s} ${d?o:"-"} ${i} ${l}`}catch{throw mo}};function gs(e,t){const n=Sr(e);return n.move(t),n.pgn()}const tr=e=>e?e.replace(/\[[^\]]*\]\n/gm,"").replace(/\{[^}]*\}\s/gm,"").replace(/\d+\.{1,3}\s/gm,"").replace(/(1-0)|(0-1)|(\?-\?)/gm,"").trim().split(" "):[],ms=e=>ga(Sr(e));function Sr(e){let t=new go;return t.load_pgn(e),t}const ga=e=>Jt.normalize(e.fen());class ma{constructor(t){this.backend=t}async split2top(t,n){let s=await this.getPopularMovesStats(n,t),o=t-3,i=s.slice(0,3*2);for(;o>0&&i.length;){const l=i.shift(),c=await this.getStatsForBest(l.pgn,o+1);s.push(...c.slice(1)),i.push(...c),i.sort((d,v)=>v.amount-d.amount),o-=1}return s.sort((l,c)=>c.amount-l.amount),s.slice(0,t).map(({pgn:l})=>l)}async getStatsForBest(t,n){const r=await this.addBestMove(t);return r?this.getPopularMovesStats(r,n):[]}async addBestMove(t){return gs(t,(await this.backend.getBestMove(ms(t))).bestMove)}async getPopularMovesStats(t,n){const r=await this.backend.getPopularMoves(ms(t));return r!=null&&r.moves?r.moves.slice(0,n).map(s=>({pgn:gs(t,s.san),amount:s.masterGamesAmount||0})):[]}}class va{constructor(t){this.splitStrategy=new ma(t)}getGamesFromMoves(t,n){const r=Sr(t.pgn);return n.map(s=>{r.move(s);const o={...t,pgn:r.pgn()};return r.undo(),o})}async getTopGames(t,n){return(await this.splitStrategy.split2top(n,t.pgn)).map(o=>({...t,pgn:o}))}identifyOrientation(t,n){var r,s;return n?((s=(r=t.header())==null?void 0:r.White)==null?void 0:s.toLowerCase())==(n==null?void 0:n.toLowerCase())?"white":"black":t.turn()=="w"?"white":"black"}getGameInfo(t,n,r,s){return{username:t.game.username,orientation:n.orientation(),openingInfo:r.value,pgn:s.pgn()}}}const _a={class:"best-move-info",role:"text",name:"best-move-info"},ba={key:0,id:"best-move-data"},ya={key:1},wa={key:2},Ca=["onClick"],xa={__name:"GoodMovesView",props:{data:{type:[Object,void 0],required:!1,default:void 0}},emits:["updateAlt"],setup(e,{emit:t}){const n=e;function r(){var l;const o=prompt("Alternative move to add");let i=((l=n.data)==null?void 0:l.alt)||[];i.push(o),t("updateAlt",[...i])}function s(o){let i=n.data.alt;const l=i.indexOf(o);l>-1&&i.splice(l,1),t("updateAlt",[...i])}return(o,i)=>{var l,c,d;return oe(),ae("div",_a,[vt(" Best: "),(l=n.data)!=null&&l.san?(oe(),ae("span",ba,Je(n.data.san)+", score: "+Je(n.data.score)+", depth: "+Je(n.data.depth),1)):(oe(),ae("span",ya,Je(n.data===void 0?"searching...":"no data"),1)),vt(", alt: "),(c=n.data)!=null&&c.alt?(oe(),ae("ul",wa,[(oe(!0),ae(Ce,null,br((d=n.data)==null?void 0:d.alt,v=>(oe(),ae("li",{key:v},[vt(Je(v)+" ",1),G("button",{onClick:A=>s(v)},"x",8,Ca)]))),128))])):jt("",!0),G("button",{onClick:r},"+")])}}};const Ea=e=>(wi("data-v-65ae7796"),e=e(),Ci(),e),Sa={class:"popular-move-info"},Aa=Ea(()=>G("span",null,"Popular: ",-1)),Pa={key:0,id:"popular-moves-data"},Ia={key:1},Ma={key:2,class:"split-area"},Ta=["id","alt","onClick"],Oa={__name:"PopularMovesView",props:{data:{type:Array,default(){},required:!1}},emits:["split2top3","split2top"],setup(e,{emit:t}){const n=e,r={3:"",5:5,7:7,11:11};function s(o){o==3?t("split2top3",n.data.map(i=>i.san)):t("split2top",o)}return(o,i)=>(oe(),ae("div",Sa,[Aa,n.data&&n.data.length?(oe(),ae("span",Pa,Je(Ie(pa)(n.data)),1)):(oe(),ae("span",Ia,Je(n.data===void 0?"searching...":"no data"),1)),n.data&&n.data.length>1?(oe(),ae("div",Ma,[(oe(),ae(Ce,null,br(r,(l,c)=>G("button",{id:`split2top${c}`,key:c,alt:"split to top "+c+" positions",class:gt("split-sign"+c),onClick:d=>s(c)},Je(l),11,Ta)),64))])):jt("",!0)]))}},Ra=Er(Oa,[["__scopeId","data-v-65ae7796"]]);class La extends Map{}const vs="notes";class Na extends La{constructor(t){if(!t){let n=localStorage.getItem(vs);if(n)try{t=JSON.parse(n)}catch{console.error(`Could not parse notes: '${n}'`)}}super(t)}set(t,n){super.set(t,n),localStorage.setItem(vs,JSON.stringify([...this]))}}const $a={class:"position-info"},Fa={class:"controls"},Ba={class:"text-area"},Ua=["value"],Ka=["value"],ka=["value"],Da={__name:"PositionInfoView",props:{fen:{type:String,required:!0},pgn:{type:String,required:!0},noteManager:{type:Object,required:!1,default:new Na}},setup(e){const t=e,n=Re(""),r=Object.freeze({fen:Symbol("fen"),pgn:Symbol("pgn"),note:Symbol("note")}),s=Re(r.pgn);Sn(()=>{i()}),Zs(()=>{i()});const o=l=>t.noteManager.set(t.fen,l.target.value),i=()=>{n.value=t.noteManager.get(t.fen)};return(l,c)=>(oe(),ae("div",$a,[G("div",Fa,[G("button",{id:"show-fen",class:gt(s.value==Ie(r).fen?"selected":""),onClick:c[0]||(c[0]=()=>{s.value=Ie(r).fen})},"FEN",2),G("button",{id:"show-pgn",class:gt(s.value==Ie(r).pgn?"selected":""),onClick:c[1]||(c[1]=()=>{s.value=Ie(r).pgn})},"PGN",2),G("button",{id:"show-note",class:gt(s.value==Ie(r).note?"selected":""),onClick:c[2]||(c[2]=()=>{s.value=Ie(r).note,i()})},"Notes",2)]),G("div",Ba,[s.value==Ie(r).fen?(oe(),ae("textarea",{key:0,id:"fen",value:t.fen,rows:"5",readonly:""},null,8,Ua)):jt("",!0),s.value==Ie(r).pgn?(oe(),ae("textarea",{key:1,id:"pgn",value:t.pgn,rows:"5"},null,8,Ka)):jt("",!0),s.value==Ie(r).note?(oe(),ae("textarea",{key:2,id:"note",value:n.value,rows:"5",onInput:o},null,40,ka)):jt("",!0)])]))}},ja=Er(Da,[["__scopeId","data-v-b05cd4a6"]]);const qa={class:"board-header"},Ha={class:"opening"},Wa={class:"stats"},za=G("footer",null,null,-1),_s=300,Ga=1e3,Qa=10,Va=50,Ja=46,Ya=3,Dn="square-55d63",Xa={__name:"BoardView",props:{game:{type:Object,required:!0,validator:function(e){return e.pgn!=null}},bestMove:{type:Object,default(){return{}},required:!1},popularMoves:{type:Array,default(){return[]},required:!1},backend:{type:Object,required:!0}},emits:["replaceWith"],setup(e,{emit:t}){var w;const n=e,r="chessBoard"+Math.round(Math.random()*1e6);let s,o,i,l;const c={draggable:!0,moveSpeed:200,snapbackSpeed:500,snapSpeed:100,position:"start",onDragStart:se,onDrop:ne,onSnapEnd:ie,pieceTheme:"/game-insights/img/chesspieces/wikipedia/{piece}.png"},d=Re(""),v=Re(""),A=Re("Let's learn something about this game. Press 'Reply & Learn' when ready"),I=Re(n.bestMove),N=Re(n.popularMoves),Q=Re((w=n.game)==null?void 0:w.openingInfo),D=()=>s.orientation().startsWith(i.turn());function H(m,y){if(!o)return;const T="highlight-"+y;if(!m){o.find("."+Dn).removeClass(T);return}let k=i.moves({verbose:!0}).find(V=>V.san==m);k?(o.find("."+Dn).removeClass(T),o.find(".square-"+k.from).addClass(T),o.find(".square-"+k.to).addClass(T)):o.find("."+Dn).removeClass(T)}function se(m,y){if(i.game_over()||i.turn()==="w"&&y.search(/^b/)!==-1||i.turn()==="b"&&y.search(/^w/)!==-1)return!1}async function ne(m,y){var T=i.move({from:m,to:y,promotion:"q"});if(T===null)return"snapback";Ee(),Le(),await U()}function ie(){s.position(i.fen())}function U(){return I.value=void 0,N.value=void 0,new Promise((m,y)=>{const T=n.backend.getBestMove(d.value).then(k=>I.value=da(k)).catch(()=>I.value=null).finally(()=>H(Xe(),"best")),$=n.backend.getPopularMoves(d.value).then(fe).catch(()=>N.value=null).finally(()=>H(le(),"popular"));Promise.all([T,$]).then(m).catch(y).finally(me)})}const Ee=()=>d.value=Jt.normalize(i.fen()),Le=()=>v.value=i.pgn();function fe(m){var y;N.value=(y=m==null?void 0:m.moves)==null?void 0:y.slice(0,Ya),m!=null&&m.opening&&(Q.value=m==null?void 0:m.opening)}function me(){var m;(!((m=I.value)!=null&&m.san)||I.value.depth<Ja)&&n.backend.analyze(tr(v.value))}async function ce(){Ee(),await U(),s.position(d.value)}async function Se(){A.value="",i.reset(),await ce()}function Ae(m,y){y<m.length&&y<Va&&setTimeout(async()=>{var k,V;const T=(((k=I.value)==null?void 0:k.alt)||[]).concat((V=I.value)==null?void 0:V.san);let $=i.move(m[y]);await ce(),!D()&&!T.includes($.san)?setTimeout(async()=>{i.undo(),await ce()},_s):Ae(m,++y)},_s)}function je(){Se();const m=tr(v.value);Ae(m,0)}function qe(){He(Qa)}function He(m){if(m){let y=D()&&Xe()||le();y&&setTimeout(async()=>{i.move(y),Le(),await ce(),He(m-1)},Ga)}}const Xe=()=>{var m;return(m=I.value)==null?void 0:m.san},le=()=>{var m,y;return(y=(m=N.value)==null?void 0:m[0])==null?void 0:y.san},z=[];function q(){const m=i.undo();m&&(z.push(m),ce())}function Me(){const m=z.pop();i.move(m)&&ce()}const Te=()=>l.getGameInfo(n,s,Q,i),Oe=m=>t("replaceWith",l.getGamesFromMoves(Te(),m)),f=async m=>t("replaceWith",await l.getTopGames(Te(),m));function p(){t("replaceWith",[])}function g(m){I.value||(I.value={}),I.value.alt=m,n.backend.updateAltMoves(d.value,m)}return Sn(()=>{v.value=n.game.pgn,s=window.Chessboard(r,c),o=window.$(`#${r}`),i=new go,i.load_pgn(v.value),l=new va(n.backend),s.orientation(n.game.orientation||l.identifyOrientation(i,n.game.username)),ce()}),(m,y)=>{var T;return oe(),ae(Ce,null,[G("div",qa,[G("div",{class:"controls"},[G("button",{id:"replay",onClick:je},"Replay & Learn"),G("button",{id:"continue",onClick:qe}," Continue with Main Line ")]),G("div",Ha,Je((T=Q.value)!=null&&T.eco?Q.value.eco+": "+Q.value.name:A.value),1)]),G("div",{class:"main"},[G("div",{class:"main-column"},[G("div",{id:r,class:"chess-board"},"Loading...")]),G("div",{class:"right-column"},[G("button",{id:"close",onClick:p},"x")])]),G("div",Wa,[_e(xa,{data:I.value,onUpdateAlt:g},null,8,["data"]),_e(Ra,{data:N.value,onSplit2top3:Oe,onSplit2top:f},null,8,["data"])]),G("div",{class:"navigation"},[G("button",{id:"back",class:"control",onClick:q},""),G("button",{id:"next",class:"control",onClick:Me},"")]),_e(ja,{pgn:v.value,fen:d.value},null,8,["pgn","fen"]),za],64)}}},Za="0.9.2-rc3";const ec={href:"https://github.com/Scorpibear/game-insights"},tc={__name:"FooterView",setup(e){const t=Re(Za);return(n,r)=>(oe(),ae("footer",null,[G("a",ec,"Game Insights v"+Je(t.value),1)]))}};class nc{constructor({hostname:t,protocol:n,port:r}){this.getBaseUrl=()=>`${n}://${t}${r?":"+r:""}/api/`,this.lastCallResult=Promise.resolve(),this.errorHandler=s=>console.error(s)}async analyze(t){const n=`${this.getBaseUrl()}analyze?code=YChrCbCY07S7aCaEamHr7mXp-oZN3h892sYTF00QrSdGAzFuM4Sjtg==`;return new Promise((r,s)=>{setTimeout(async()=>{try{await this.lastCallResult,this.lastCallResult=fetch(n,{method:"POST",body:JSON.stringify({moves:t})}).catch(this.errorHandler),r(this.lastCallResult)}catch(o){this.errorHandler(o),s(o)}},100)})}async getFenBase(){const t=`${this.getBaseUrl()}fenbase?code=zwz2bDT31bM6DjNMn8wehRbrRHUyUBhOUvH4jrq-S18wAzFuKCjW1A==`;try{return await(await fetch(t)).json()}catch(n){return console.error("Could not get fen base: ",n),Promise.reject(n)}}async getFenData(t){const n=`${this.getBaseUrl()}fendata?fen=${t}&code=A1M51hEuXS8ivHQCNo0rmPkIgeg-I7CosdyYDLIV0kAaAzFuymxztg==`;try{return(await fetch(n)).json()}catch(r){return console.error(`Could not get fenData from bestmovedb for ${t}: `,r),Promise.reject(r)}}}class rc{async getGamesArchives(t){const n=`https://api.chess.com/pub/player/${t}/games/archives`;try{return(await(await fetch(n)).json()).archives}catch(r){return Promise.reject(`could not get games archives for '${t}' : ${r}`)}}async getGamesForMonth(t,n,r){const s=`https://api.chess.com/pub/player/${t}/games/${n}/${r}`;return this.getGamesByUrl(s)}async getGamesByUrl(t){try{return(await(await fetch(t)).json()).games}catch(n){return Promise.reject(`could not get games for '${t}': ${n}`)}}async getLastGames(t,n){const r=[];if(t){const s=await this.getGamesArchives(t);for(;r.length<n&&(s==null?void 0:s.length)>0;){const o=await this.getGamesByUrl(s.pop());for(;r.length<n&&o.length>0;)r.push(o.pop())}r.reverse()}return r}}const sc=e=>t=>{const n=t.body.getReader(),r=/\r?\n/,s=new TextDecoder;let o="";const i=()=>n.read().then(({done:l,value:c})=>{if(l)o.length>0&&e(JSON.parse(o));else{const d=s.decode(c,{stream:!0});o+=d;const v=o.split(r);o=v.pop();for(const A of v.filter(I=>I))e(JSON.parse(A));return i()}});return i()};class oc{async getTheMostPopularByMasters(t){const n=`https://explorer.lichess.ovh/masters?fen=${t}`;return(await fetch(n,{headers:{Accept:"application/json"}})).json()}async getTheMostPopularOnline(t,n){var l,c;const r=((l=n==null?void 0:n.speeds)==null?void 0:l.join(","))||"blitz,rapid,classical,correspondence",s=((c=n==null?void 0:n.ratings)==null?void 0:c.join(","))||"2000,2200,2500",o=`https://explorer.lichess.ovh/lichess?variant=standard&speeds=${r}&ratings=${s}&fen=${t}`;return(await fetch(o,{headers:{Accept:"application/json"}})).json()}getGamesEndpoint(t,n){return`https://lichess.org/api/games/user/${t}?max=${n}&pgnInJson=true&opening=true`}async getGames(t,n=3){return new Promise((r,s)=>{try{const o=[];if(!t){r(o);return}const i=this.getGamesEndpoint(t,n),l=fetch(i,{headers:{Accept:"application/x-ndjson"}}),c=v=>{o.push(v)},d=()=>{r(o)};l.then(sc(c)).then(d).catch(s)}catch(o){s(o)}})}async getLastGames(t,n){return this.getGames(t,n)}}const vo=1e3*60*60*4,_o=vo*24,nr=_o*7,ic=nr*13;class lc{constructor(t){this.cloudClient=t,this.baseLSKey="fenbase",this.baseCreatedLSKey="fenbase-created",this.baseTTL=nr;let n;const r=localStorage.getItem(this.baseCreatedLSKey);if(r&&Date.now()-r<nr){const s=localStorage.getItem(this.baseLSKey);try{n=new Map(JSON.parse(s))}catch(o){console.error("Could not load fenbase from local storage: ",o,s)}}this.fenBaseAsPromised=n?Promise.resolve(n):this.cloudClient.getFenBase().then(s=>new Map(s)).then(s=>this.saveNewBaseFromCloud(s)).catch(console.error)}saveNewBaseFromCloud(t){return localStorage.setItem(this.baseCreatedLSKey,Date.now()),this.saveBase(t)}saveBase(t){return localStorage.setItem(this.baseLSKey,JSON.stringify([...t])),t}async getFenData(t){const n=await this.fenBaseAsPromised;let r=n.get(t)||{};if(!(r!=null&&r.bestMove)||Date.now()-r.updated>vo){try{r=await this.cloudClient.getFenData(t)}catch{}r.updated=Date.now(),n.set(t,r),this.fenBaseAsPromised=Promise.resolve(n),this.saveBase(n)}return Promise.resolve(r)}}class Ar{constructor({chessComClient:t,lichessClient:n}){this.chessComClient=t,this.lichessClient=n}async getLastGames(t,n){const s=(await this.chessComClient.getLastGames(t.chessComUsername,n*2)).map(ua).map(ps(t.chessComUsername)),o=(await this.lichessClient.getLastGames(t.lichessUsername,n*2)).map(ps(t.lichessUsername));return s.concat(o).sort((c,d)=>d.lastMoveAt-c.lastMoveAt).filter(ac).slice(0,n)}}Mn(Ar,"PLY_REQUIRED",5);const ac=e=>tr(e.pgn).length>=Ar.PLY_REQUIRED;class cc extends Map{update(t,n){this.set(t,n)}}const bs="altMoves";class uc extends cc{constructor(){const t=localStorage.getItem(bs);let n;if(t)try{n=JSON.parse(t)}catch(r){console.error(`Could not load altMovesDB from broken string '${t}': ${r}`)}super(n)}update(t,n){super.update(t,n),localStorage.setItem(bs,JSON.stringify([...this]))}}class fc{constructor(t,n,r){this.cheguraClient=t||new nc({hostname:"bestmoves.azurewebsites.net",protocol:"https"}),this.chessComClient=n||new rc,this.lichessClient=r||new oc,this.bestMoveCache=new lc(this.cheguraClient),this.gamesMerger=new Ar({chessComClient:this.chessComClient,lichessClient:this.lichessClient}),this.altMovesDB=new uc}analyze(t){return this.cheguraClient.analyze(t)}async getBestMove(t){let n;try{n=await this.bestMoveCache.getFenData(t)}catch{}return this.addAlt(n,t)}addAlt(t,n){const r=this.altMovesDB.get(n);return r!==void 0?{...t,alt:r}:t}async getPopularMoves(t){let n={};try{const r=await this.lichessClient.getTheMostPopularByMasters(t),s=await this.lichessClient.getTheMostPopularOnline(t);n=fa(r,s)}catch(r){console.error(r)}return n}updateAltMoves(t,n){this.altMovesDB.update(t,n)}getGames(t,n){return this.gamesMerger.getLastGames(t,n)}}const dc=1e3*60*60*24*30;class pc{constructor(t){this.map=new Map,this.options=t||{}}get(t){const n=this.map.get(t);return n&&Date.now()<n.expireAt?n.value:void 0}set(t,n){return this.map.set(t,{value:n,expireAt:Date.now()+(this.options.ttl||dc)})}}class ys extends pc{constructor(t){if(super(t),this.localStorageKey=this.options.name?`history-${this.options.name}`:null,this.localStorageKey)try{let n=localStorage.getItem(this.localStorageKey),r=JSON.parse(n);this.map=new Map(r)}catch(n){console.error(`Unsuccessful load of '${this.localStorageKey}':`,n)}}set(t,n){let r=super.set(t,n);return this.localStorageKey&&localStorage&&localStorage.setItem(this.localStorageKey,JSON.stringify([...this.map])),r}}const hc=50,gn=class gn{constructor(t){this.backend=t||new fc,this.analyzeCache=new ys({ttl:_o,name:"analyzeCache"}),this.popularCache=new ys({ttl:ic,name:"popularCache"})}static getShared(){return this.sharedInstance=this.sharedInstance||new gn,this.sharedInstance}async analyze(t){t=t.slice(0,hc);const n=t.join(" ");let r=this.analyzeCache.get(n),s;if(r===void 0)try{s=await this.backend.analyze(t),this.analyzeCache.set(n,"sent")}catch(o){s=Promise.reject(o)}else s=Promise.resolve(r);return s}getBestMove(t){return this.backend.getBestMove(t)}getPopularMoves(t){const n=this.popularCache.get(t);return n!=null&&n.moves?Promise.resolve(n):this.backend.getPopularMoves(t).then(r=>(this.popularCache.set(t,r),r))}updateAltMoves(t,n){this.backend.updateAltMoves(t,n)}async getGames(t,n){return this.backend.getGames(t,n)}};Mn(gn,"sharedInstance");let rr=gn;const gc=["id"],mc={__name:"App",setup(e){const t=yn({games:[{pgn:"1. ?-?"},{pgn:"1. e4 ?-?"},{pgn:"1. e4 e5 2. ?-?"},{pgn:"1. d4 ?-?"}]}),n=rr.getShared();return(r,s)=>(oe(),ae(Ce,null,[_e(Gl,{backend:Ie(n),onGamesLoaded:s[0]||(s[0]=o=>{t.games=o})},null,8,["backend"]),(oe(!0),ae(Ce,null,br(t.games,(o,i)=>(oe(),ae("div",{id:"board"+i,key:o,class:"game-view"},[_e(Xa,{game:o,backend:Ie(n),onReplaceWith:l=>t.games.splice(i,1,...l)},null,8,["game","backend","onReplaceWith"])],8,gc))),128)),_e(tc)],64))}},vc=ql(mc);vc.mount("#app");
